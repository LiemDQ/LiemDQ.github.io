<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Liem Dam-Quang</title><link>https://liem.ca/</link><description>Liem Dam-Quang</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 28 Sep 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://liem.ca/index.xml" rel="self" type="application/rss+xml"/><item><title>Desalination: The Miracle and The Wall</title><link>https://liem.ca/posts/desalination/</link><pubDate>Sat, 28 Sep 2024 00:00:00 +0000</pubDate><guid>https://liem.ca/posts/desalination/</guid><description>&lt;p>On June 21, 1961, in a dusty small town in Texas, about 60 miles south of Houston, President John F. Kennedy stepped up to the podium to make a speech before the assembled throngs of people below. Or rather, his aides did. The ongoing Cuban missile crisis demanded his presence in Washington, so he instead gave the speech through a telephone call. The event, however, was deemed of sufficient importance that Vice-President Lyndon Johnson was in attendance.&lt;/p>
&lt;p>Behind the stage was a dense, tangled maze of stainless steel piping, tanks, and stairways—the fruits of labor of countless scientists, engineers, and government officials who had been toiling relentlessly for years. And thanks to their efforts, the project had been completed at breakneck speed. Kennedy&amp;rsquo;s speech was to commemorate the opening of the facility, and the geopolitical situation did not temper his enthusiasm or his grandiloquence.&lt;/p>
&lt;p>&amp;ldquo;Today,&amp;rdquo; he said, &amp;ldquo;was an important step towards securing one of man&amp;rsquo;s oldest dreams.&amp;rdquo; He went on to declare that he could not think of a cause that was more important &amp;ldquo;to people around the globe&amp;rdquo;, and that this was &amp;ldquo;a work that in many ways is more important than any other scientific enterprise in which this country is now engaged.&amp;rdquo;&lt;/p>
&lt;p>With this effusive praise, Kennedy was not talking about space exploration, the Apollo program or the goal of landing a man on the moon, &lt;a href="https://www.jfklibrary.org/learn/about-jfk/historic-speeches/address-to-joint-session-of-congress-may-25-1961">which he had announced a month earlier in an address to Congress&lt;/a>. He was talking about &lt;a href="https://www.sciencehistory.org/distillations/magazine/nor-any-drop-to-drink">the opening of a desalination plant in Freeport, Texas&lt;/a>—the first of its kind. Fed by belching coal boilers, it was capable of producing one million gallons of freshwater per day, providing relief to the drought-ravaged town of Freeport, as well as a nearby chemical plant owned by the Dow Chemical Company.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/freeport.jpg" alt="Lyndon Johnson at Freeport plant">
&lt;figcaption>Lyndon Johnson at the Freeport Desalination plant opening.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>The practical implications were overshadowed by the symbolic ones. The 1950s were an era of unbridled optimism and the belief in the ability of science and technology to deal the finishing blow in mankind&amp;rsquo;s eternal war against poverty, disease, famine and drought. Medical advances and improved sanitation increased the average American lifespan from &lt;a href="https://www.statista.com/statistics/1040079/life-expectancy-united-states-all-time/">53 years in 1920 to 70 years in 1960&lt;/a>. Nuclear power promised clean, abundant electricity, with prices eventually being “&lt;a href="https://www.nrc.gov/reading-rm/basic-ref/students/history-101/too-cheap-to-meter.html">too cheap to meter&lt;/a>”. The &lt;a href="https://en.wikipedia.org/wiki/Green_Revolution">Green Revolution&lt;/a> made crop yields explode, cementing America&amp;rsquo;s food security. Now, it seemed that the final enemy left to overcome was drought.&lt;/p>
&lt;p>In a sense, this plant represented the ultimate triumph of human ingenuity over the vicissitudes of the weather and climate. Finally, mankind would meet its basic needs in &amp;ldquo;areas in which Nature was not generous.&amp;rdquo; The deserts would literally bloom, and men and women in dry climates everywhere would be lifted into prosperity.&lt;/p>
&lt;p>The starry-eyed enthusiasm didn&amp;rsquo;t last. The high spirits of the age were met with crushing economic—and political—reality. The mercurial nature of weather goes both ways, and a few years later, the rains came back to South Texas. It cost the government \$1.25— \$14.87 in 2024 dollars—to produce one thousand gallons of water, which it sold to the town of Freeport for $0.30, the going price of naturally-sourced water. Once the funds dedicated to the project ran out, Congress had no inclination to keep producing a now-abundant commodity at a loss. The plant shut down in 1969. The 1970s energy crisis, which &lt;a href="https://www.macrotrends.net/1369/crude-oil-price-history-chart">nearly tripled the cost of oil&lt;/a>, subsequently curtailed any incentive to build these fuel-hungry facilities.&lt;/p>
&lt;hr>
&lt;p>One of Earth’s greatest ironies is that although 70% of the world&amp;rsquo;s surface is covered in water, the IPCC estimates that &lt;a href="https://www.ipcc.ch/report/ar6/wg2/downloads/report/IPCC_AR6_WGII_Chapter04.pdf#page=11">half of the world&amp;rsquo;s population faces serious water scarcity risks&lt;/a>. Like the Greek mythological figure Tantalus, there&amp;rsquo;s a promise of plentiful water that frustratingly forever lies just-so-slightly out of reach.&lt;/p>
&lt;p>Most water used by humans comes from the &lt;a href="https://gpm.nasa.gov/education/water-cycle">hydrological cycle&lt;/a>. In the warm ocean regions, water evaporates and thanks to atmospheric circulation, moves around the globe. Eventually, it condenses into clouds and falls out of the sky as precipitation. Depending on where it lands, the water can accumulate in ice caps or glaciers, flow back into the oceans through rivers, or be stored in lakes or aquifers. Although the water eventually makes its way back to the oceans, all these serve as sources of fresh water for humans, plants, and animals.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/water_cycle.png" alt="Water cycle">
&lt;figcaption>The water cycle.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>But the availability of these resources varies greatly with geographic region. There&amp;rsquo;s no guarantee that your land will be pocked by lakes, that rivers will run free, or that the aquifer will provide useful quantities of water. If—or when—the need arises, there are only two ways to increase the available water supply: water reuse and desalination. If you didn&amp;rsquo;t have water to begin with, the first option is not very helpful!&lt;/p>
&lt;p>That’s why access to water has historically been the key determinant of the evolution of human settlements. Today, &lt;a href="https://resourcewatch.org/data/explore/Populations-in-Coastal-Zones?section=Discover&amp;amp;selectedCollection=&amp;amp;zoom=3&amp;amp;lat=0&amp;amp;lng=0&amp;amp;pitch=0&amp;amp;bearing=0&amp;amp;basemap=dark&amp;amp;labels=light&amp;amp;layers=%255B%257B%2522dataset%2522%253A%2522995ec4fe-b3cc-4cf4-bd48-b89d4e3ea072%2522%252C%2522opacity%2522%253A1%252C%2522layer%2522%253A%25222e533124-3258-4ec2-a777-beed1712d1a0%2522%257D%255D">40% of the world’s population lives within 100 km of a coast&lt;/a>, and &lt;a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3110782/">50% live within 3 km of a freshwater source&lt;/a> (only 10% live more than 10 km away from one).&lt;/p>
&lt;p>It’s not just a question of having enough to drink and eat, either. A reliable supply of water is crucial to economic development. Water, as part of the &lt;a href="https://www.energy.gov/sites/default/files/2014/07/f17/Water%20Energy%20Nexus%20Executive%20Summary%20July%202014.pdf">water-energy nexus&lt;/a>, plays a crucial role in energy production—thermal power plants require large amounts of freshwater to use as a coolant&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>, and large amounts of water are needed in the production of solar panels and wine turbines. Nearly all industrial activity uses water in some way as a solvent, reactant and/or heat transfer fluid. Even beyond the humanitarian angle of crop failures and drought, a nation that struggles to meet its water needs is a nation doomed to economic stagnation.&lt;/p>
&lt;p>Climate change will make all these issues worse. While the total amount of precipitation won’t meaningfully change, &lt;a href="https://www.nature.com/articles/s41467-020-16757-w">the distribution of rainfall, snowmelt and river flows will shift&lt;/a>. Weather events will become more heavy-tailed and less predictable. As the soil dries up, it becomes less capable of absorbing water, making the less-frequent-but-more intense periods of rain unable to replenish aquifers. Droughts will increase in frequency and severity. When combined with other issues, such as pollution and eutrophication, &lt;a href="https://www.nature.com/articles/s41467-024-44947-3">potentially billions of people could experience water shortages by the 2050s&lt;/a>.&lt;/p>
&lt;p>Seawater desalination could potentially help alleviate these issues. Historically, it&amp;rsquo;s been an incredibly energy-intensive process, resulting in high costs as well as a high environmental impact, limiting its potential usefulness. But could that be improved? How much better could it get, and would more R&amp;amp;D efforts get us there?&lt;/p>
&lt;h2 id="a-brief-history-of-desalination" >A brief history of desalination
&lt;span>
&lt;a href="#a-brief-history-of-desalination">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>The largest, most expensive and complex part of a chemical plant is often, not, as is popularly thought, the reactors that combine chemicals to produce new, more valuable ones, but rather the steps that split a mixture of chemicals into distinct streams of a specified purity. The techniques for “de-mixing” are cumulatively known as &lt;a href="https://en.wikipedia.org/wiki/Separation_process">separation processes&lt;/a>. In many respects, this is chemical engineering’s most fundamental discipline.&lt;/p>
&lt;p>Fortunately, desalination—the art of separating salt and water—is a relatively simple process. Humans have done it for millennia—Aristotle noted that &amp;ldquo;salt water, when it turns into vapor, becomes sweet and the vapor does not form salt water again when it condenses&amp;rdquo;. But this approach requires enormous amounts of heat, and as such desalination was never feasible on a large scale prior to the Industrial Revolution and the concomitant availability of coal and other fossil fuels.&lt;/p>
&lt;p>The idea was revisited at that time, mostly in military contexts. Armies were not as concerned about efficiency and economic viability as they were with the logistical convenience of being able to produce fresh water for their troops &lt;em>in-situ&lt;/em>.&lt;/p>
&lt;p>Research into economic desalination accelerated after WWII, particularly in the United States. In the 1950s, the southern US underwent a severe drought—the worst in the nation&amp;rsquo;s history—and there was significant political pressure to find a solution. This is when some began to consider the possibility of large-scale, economic distillation of seawater as a source of water security and a bulwark against the fitful caprices of rain. Congress passed the &lt;a href="https://www.govinfo.gov/content/pkg/STATUTE-66/pdf/STATUTE-66-Pg328.pdf#page=1">Saline Water Conversion Act in 1952&lt;/a>, which led to the creation of the Office of Saline Water in 1955 and its eventual merging with the Office of Water Resources Research in 1974.&lt;/p>
&lt;p>The first desalination plants, like the one in Freeport, used &lt;a href="https://en.wikipedia.org/wiki/Multi-stage_flash_distillation">multi-stage flash distillation&lt;/a> (MSF) to distill the water. The idea is quite simple: boil the water and collect it, leaving the salt behind. A series of heat exchangers captures the heat from the condensing vapor to boil a subsequent batch of water, minimizing energy waste.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/nomac_thermal_msf.jpg" alt="MSF distillation plant">
&lt;figcaption>MSF distillation plants can be identified by the rows of successive tanks placed in series, which are used to recycle heat from vaporization. Pictured here is the Shoaiba desalination plant in Saudi Arabia.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>This approach is effective at producing drinkable water in large quantities, but there&amp;rsquo;s a big downside. It is &lt;em>horrifically&lt;/em> energy intensive. No matter how you slice it, boiling water takes a lot of energy, and not all of it can be recuperated. A typical MSF plant achieves a Specific Energy Consumption (SEC) of &lt;a href="http://www.iags.org/n0813043.htm">23-27 kWh per cubic meter of water&lt;/a>. At an electricity price of 8 cents per kWh, &lt;a href="https://www.eia.gov/electricity/monthly/epm_table_grapher.php?t=epmt_5_6_a">roughly the average in the US for industrial customers&lt;/a>, it would cost over $2.00 to produce a cubic meter (1000 L) of water. But in comparison, the &lt;a href="https://www.akwater.com/story_of_water/html/costs.htm">average price of water in the USA is only $0.40 per cubic meter&lt;/a> (although it is strongly location-dependent). And that’s before labor, maintenance, distribution, capital amortization and taxes are factored in, which would, in general, double or triple the cost.&lt;/p>
&lt;p>Paying over 10x the average price for your water is quite literally a tough sell. In many cases, it’s cheaper to simply ship the water in from elsewhere. It&amp;rsquo;s unsurprising, then, that MSF desalination never saw the widespread adoption that Kennedy and Johnson would have liked. And in the 1970s, funding for desalination dried up—pun unintended&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>. Desalination was a niche technology of last resort, only used in locations that had access to abundant energy but for whatever reason had no other options for sourcing water.&lt;/p>
&lt;h1 id="enter-reverse-osmosis" >Enter reverse osmosis
&lt;span>
&lt;a href="#enter-reverse-osmosis">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>The ultimate success of desalination can be credited to &lt;a href="https://www.jpost.com/health-and-sci-tech/science-and-environment/in-appreciation-sidney-loeb-desalination-pioneer-dies-at-91">Sidney Loeb&lt;/a> and &lt;a href="https://smartwatermagazine.com/news/smart-water-magazine/dr-srinivasa-sourirajan-father-reverse-osmosis-passed-away">Srinivasa Sourirajan&lt;/a>, who co-invented the &lt;a href="https://patents.google.com/patent/US3133132">first practical reverse-osmosis membrane&lt;/a>, a much more energy efficient technology. While the concept of a salt-removing filter was not novel, their membrane was the first that was relatively inexpensive, durable, and had a sufficiently high water throughput to be economically viable. The trick was using a two-layer approach: a thin, tightly-woven layer on top provided the salt filtering capability, while a thicker but more porous layer on the bottom provided the strength needed to withstand the required pressures. Today, practically all commercial reverse osmosis membranes still employ the same concept.&lt;/p>
&lt;p>Reverse osmosis is achieved by pushing the water across a semi-permeable membrane using a difference in pressure. In a typical setup, the water, once filtered for large debris like branches, rocks, and algae, is fed through a pump and through a spiral-wound tube. The walls of this tube are made of a membrane with tiny pores that allow water molecules to pass through but block larger salt molecules.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_membrane.png" alt="Reverse osmosis membrane">
&lt;figcaption>An cutaway of a reverse osmosis membrane. Source: PNNL.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>At a first glance, this just seems to be like any other kind of filtering process. What&amp;rsquo;s the big deal? I use a &amp;ldquo;semi-permeable membrane&amp;rdquo; to separate the coffee grounds from my morning brew every day. Why does this have a fancy name attached to it?&lt;/p>
&lt;p>The key distinction between reverse osmosis and a filtering system is the &lt;em>spontaneity&lt;/em> of the process. A fluid filled with undesirable particles will naturally flow through a sieve in the absence of a minimal driving force. Increasing the pressure will increase the flow rate through the filter, but it&amp;rsquo;s not a requirement. Using my coffee as an example, if I was fine with waiting forever, eventually &lt;em>all&lt;/em> of the coffee would trickle down through the filter—except a small amount retained due to surface tension—resulting in almost no energy expenditure.&lt;/p>
&lt;p>Reverse osmosis, on the other hand, is &lt;em>not&lt;/em> spontaneous. If you passively place a concentrated salt solution next to a reverse osmosis membrane without applying a driving force, nothing will happen. The water will &lt;em>never&lt;/em> migrate across the membrane on its own. To do so, it needs to fight against the &lt;a href="https://chem.libretexts.org/Bookshelves/General_Chemistry/Map%3A_General_Chemistry_(Petrucci_et_al.)/13%3A_Solutions_and_their_Physical_Properties/13.07%3A_Osmotic_Pressure">osmotic pressure&lt;/a> generated by the difference in salt concentration across the membrane—hence the term “reverse osmosis”. The amount of pressure needed depends on the membrane permeability as well as the concentration of salt in the seawater.&lt;/p>
&lt;p>There are many advantages to a pressure-driven process over a temperature-driven one. Pressure is a lot less leaky than temperature, leading to better energy efficiencies, and corrosion is much more manageable at lower temperatures. Phase changes (boiling or condensing) require large amounts of energy to be transferred to and from the water, requiring the use of a myriad of heat exchangers, boilers and utility lines, all plumbed together in a complex manner to achieve acceptable efficiencies. Pressurizing a liquid is very easy: just pump it. Not only are reverse osmosis plants more energy-efficient, they are more capital-efficient as well as they are simpler to design and build.&lt;/p>
&lt;p>The pressure requirements are where the bulk of the energy consumption for desalination come from. But how much of that is actually needed? Using advanced physics and material science, would it be possible to invent some kind of magical filter that would let water pass through really easily, but keep the salt out, or to invent some new technique that would be able to sidestep the need for high pressure? Wouldn&amp;rsquo;t that allow us to have cheap and easy freshwater anywhere in the world, and thus eliminate the threat of thirst for humankind once and for all?&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_pfd.png" alt="RO Process Flow Diagram">
&lt;figcaption>A simplified process flow diagram of a reverse osmosis unit. Pumps are used to provide the pressure needed to force water across the membrane. Source: DOE.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h2 id="the-theoretical-energy-of-unmixing" >The theoretical energy of unmixing
&lt;span>
&lt;a href="#the-theoretical-energy-of-unmixing">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>So how much energy is &lt;em>actually&lt;/em> needed to separate a mixture&amp;rsquo;s components from one another? What is, so to speak, the theoretical minimum, and why does it exist?&lt;/p>
&lt;p>First, let&amp;rsquo;s start by defining what we mean by &amp;ldquo;mixture&amp;rdquo;. We are referring to a fluid consisting of multiple components (e.g. water, salt, sugar, ethanol) but which has homogenous physical properties throughout the fluid. By contrast, a fluid with heterogeneous physical properties (e.g. water with sand and sticks in it) is called a suspension. This is an informal definition—a more rigorous one would have to address some additional subtleties&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>—but it is good enough for our purposes.&lt;/p>
&lt;p>Let’s imagine we have a very large U-shaped tube with a semi-permeable membrane separating two compartments, with freshwater on one side and seawater on the other. Initially, the water is at the same level on both sides. The difference in osmotic pressure draws the water from the freshwater side to dilute the salt. This is a common high school experiment, but it often overlooks an important observation: a simple difference in solute concentration between two solutions can result in &lt;strong>the bulk movement of a weight&lt;/strong>—in other words, performing &lt;a href="https://en.wikipedia.org/wiki/Work_(physics)">work&lt;/a>! If there was a ship in the seawater compartment, we could thus exploit the concentration difference to lift the ship up against the force of gravity.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/osmosis.png" alt="Osmosis work">
&lt;figcaption>Illustration of how osmosis can lead to useful (although probably not practical) work.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Where does this energy come from? Unfortunately, the complete answer—involving the concept of &lt;a href="https://en.wikipedia.org/wiki/Chemical_potential">chemical potential&lt;/a>—is somewhat abstract&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>, but the gist is that there is potential energy &lt;em>inherent in a difference in concentration&lt;/em>, much like how a difference in height or a difference in temperature can be exploited to produce usable energy.&lt;/p>
&lt;p>It follows that since reducing a concentration difference can produce energy, &lt;em>returning&lt;/em> to the initial concentrations (via e.g. some purification process) must, at a minimum, &lt;em>require&lt;/em> the same amount of energy. How much energy? The exact amount is known as the &lt;a href="https://en.wikipedia.org/wiki/Entropy_of_mixing#Gibbs_free_energy_of_mixing">Gibbs free energy of mixing&lt;/a> (or separation, when considering the opposite process).&lt;/p>
&lt;p>Next, let&amp;rsquo;s examine a hypothetical water desalination system, without any reference to a specific technology or approach. At a high level, any such system would have to look like the block diagram below:&lt;/p>
&lt;p>
&lt;img src="https://liem.ca/img/desalination/ro_block.png" alt="Desalination block diagram">
&lt;/p>
&lt;p>Although the goal is to extract the water from the incoming stream, we can&amp;rsquo;t extract &lt;em>all&lt;/em> of the water, or there would be nothing to carry the salt out of the system. Therefore we have one stream—the seawater—going into the unit and two streams exiting it: a stream of desalinated water called the permeate, and a stream of concentrated saltwater called the concentrate, or brine. The ratio of the flow rate of the fresh water stream to the inlet stream is called the &lt;em>recovery ratio,&lt;/em> and it is the fraction of seawater intake that is converted into freshwater.
$$
R_w = \frac{\text{freshwater flow rate}}{\text{feed flow rate}}
$$
The recovery ratio roughly captures an important tradeoff between capital expenditures and operating expenditures. A higher recovery rate means a smaller feed flow rate is needed to achieve a given freshwater production rate, resulting in smaller pipes and equipment, but also means more energy consumption, as we will see shortly. Desalination plants commonly use a recovery ratio of 50%, but the exact value at a specific facility depends on the particularities of its operation.&lt;/p>
&lt;p>A high recovery ratio results in a more concentrated brine. Intuitively, this should result in more energy required to extract the water since a more concentrated brine will have a higher osmotic pressure.&lt;/p>
&lt;p>When we convert the Gibbs free energy of separation to a per-unit-volume-of-water basis, we obtain what’s known as the Specific Energy Consumption (SEC):
$$
SEC = \frac{\Delta G_{sep}}{\text{Volume of water produced}}
$$
It turns out that for seawater, due to the fundamental thermodynamic and physical principles, the SEC &lt;em>only&lt;/em> depends on the recovery ratio&lt;sup id="fnref:5">&lt;a href="#fn:5" class="footnote-ref" role="doc-noteref">5&lt;/a>&lt;/sup>.&lt;/p>
&lt;p>For a typical seawater salt concentration of 35 g/L, and assuming a recovery ratio of 50%, we get a SEC of ~1.1 kWh/m3 of water. No matter the separation technique, it is &lt;em>thermodynamically&lt;/em> &lt;em>impossible&lt;/em> to desalinate seawater using less energy&lt;sup id="fnref:6">&lt;a href="#fn:6" class="footnote-ref" role="doc-noteref">6&lt;/a>&lt;/sup>.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_sec.png" alt="SEC graph vs recovery ratio">
&lt;figcaption>Specific energy consumption of perfect seawater separation depends on the recovery ratio&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>As the water gets transferred across the membrane, the brine side becomes more concentrated with salt, which leads to a corresponding increase in the osmotic pressure. This leads to a sharp increase in the SEC above a recovery ratio of ~0.8.&lt;/p>
&lt;p>As an illustrative example, think of wringing a wet towel: when the towel is soaked, a gentle twist is enough to have the water come gushing out. As the towel is dries out, however, it becomes progressively harder and harder to extract more water out of it, requiring more and more force to be applied until eventually no more will come out.&lt;/p>
&lt;p>Now, imagine if you could only apply one level of torque to wring the towel, instead of gradually ramping up the torque. (Perhaps you are programming a robot to do it, and the actuators only have an on/off setting.) In that case, you would have to apply a force that would get the towel to the level of “dryness” that you want to achieve, even if this amount of force is initially overkill when the towel is very wet.&lt;/p>
&lt;p>The same reasoning applies to RO membranes. To achieve perfect efficiency we would need to continuously increase the pressure &lt;em>along the membrane flow path&lt;/em> proportionately to the increase in salt concentration. This is, to say the least, an impractical proposition. The best we could do would be to maintain the pressure &lt;em>constant&lt;/em> over the length of the membrane. In order to achieve a desired recovery ratio, the pressure applied to the membrane needs to be at least equal to the &lt;em>final&lt;/em> osmotic pressure of the brine.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_membrane_cross_section.jpg" alt="RO cutout">
&lt;figcaption>As the seawater flows through the membrane, it becomes more and more concentrated in salt as some of the water flows across the membrane, which makes it progressively harder to extract more water out of it.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Plotting the pressure vs. water recovery on a graph, we get a relative sense of the “wasted” energy vs. the “required” energy.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_wasted_energy.png" alt="Wasted energy from RO">
&lt;figcaption>Energy efficiency at a recovery ratio of 75%. The blue line is the equilibrium, or &amp;#39;ideal&amp;#39; pressure required (normalized to 1.0 at 0% recovery). The area under this curve (in orange) represents the minimum separation energy. The yellow area under the line represents the &amp;#39;wasted&amp;#39; energy consumption of an ideal single-stage process at constant pressure.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>This relationship is, in a sense, the &amp;ldquo;&lt;a href="https://www.nasa.gov/mission_pages/station/expeditions/expedition30/tryanny.html">rocket equation&lt;/a>&amp;rdquo; of desalination, because there&amp;rsquo;s very few ways to actually improve it. The equilibrium curve is a fundamental property of the fluid, and so there&amp;rsquo;s no technological solution that can change it. There&amp;rsquo;s only two things we can do: change the target recovery ratio, or, just like with rockets, add staging by changing the number of &amp;ldquo;steps&amp;rdquo; we take to reach the final recovery fraction.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_wasted_energy_staged.png" alt="Wasted energy from multistage RO">
&lt;figcaption>3-stage desalination, with each stage progressively stepping up the pressure and accounting for 25% recovery. This approach is more energy efficient because more pressure is only applied “when it is needed”. &lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Instead of having a single large reverse osmosis unit, we can place multiple smaller units in series, with pumps in between each unit to boost the pressure to the new equilibrium pressure. However, this increases design complexity and capital and maintenance costs, so there’s no free lunch: at some point the additional expenses will exceed any savings from efficiency gains.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_staged.jpg" alt="Staged RO diagram">
&lt;figcaption>Example of a two-stage RO system. Source: DOE&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h1 id="the-miracle" >The miracle…
&lt;span>
&lt;a href="#the-miracle">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>The energy intensity of desalination has been one of the primary reasons why it hasn&amp;rsquo;t seen more widespread adoption. (Other issues such as the environmental consequences of brine discharge also dampen the prospects for widespread deployment but are not quite as salient.)&lt;/p>
&lt;p>Returning to Loeb and Sourirajan, their invention kicked off a flurry of innovation and continued improvements that persisted for decades. Modern membranes have since come a very long way, with &lt;a href="https://albertsk.org/wp-content/uploads/2012/08/science-2011-elimelech-712-71.pdf">an almost 90% reduction in energy consumption since the first commercial versions&lt;/a>. Today, reverse osmosis membrane technology has virtually completely displaced MSF and become the standard for desalination plants around the world.&lt;/p>
&lt;p>Putting the prior numbers into context, membranes today can now consistently achieve a thermodynamic efficiency of 80-90%, which means they only require about 25% more energy than what’s physically possible. A single-stage RO process with 50% recovery requires ~1.6 kWh/m3 of energy in theory, and the best single-stage commercial RO systems available today use about 2 kWh/m3. The total energy consumption is now consistently less than 5 kWh/m3 and is approaching 3 kWh/m3 for the most efficient plants.&lt;/p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_power_consumption.png">
&lt;figcaption>
Progress in SEC for reverse osmosis membranes since 1970. The dotted line indicates the theoretical minimum. This is based on laboratory results, but commercial-grade membranes have followed the same trend. Source: &lt;a href="https://www.science.org/doi/10.1126/science.1200488">Elimelech and Phillip, 2011.&lt;/a>
&lt;/figcaption>
&lt;/figure>
&lt;p>What does that number actually mean? As an illustrative example, Canada consumed about &lt;a href="https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=3810027101">4.86 billion cubic meters of potable water in 2019&lt;/a>. If all of that water came from desalination, it would represent an additional 9.7 TWh of electricity per year. Canada&amp;rsquo;s annual electricity production is &lt;a href="https://www.cer-rec.gc.ca/en/data-analysis/energy-markets/provincial-territorial-energy-profiles/provincial-territorial-energy-profiles-canada.html">about 632 TWh&lt;/a>, so desalination would roughly represent 1.5% of total energy consumption. By comparison, if MSF desalination was used instead, it would require over 120 TWh to supply all of Canada&amp;rsquo;s water, or nearly 20% of all energy consumption just to produce water! Keep in mind that Canada is one of the &lt;a href="https://ourworldindata.org/grapher/per-capita-energy-use">most energy intensive countries per capita&lt;/a> as well as one of the world&amp;rsquo;s most developed economies.&lt;/p>
&lt;p>Of course, the reverse osmosis step is but one of several needed to obtain drinkable water, but it is the most energy-intensive by far. And modern, large-scale, state-of-the-art facilities are &lt;em>extremely&lt;/em> efficient. The Sorek 1 plant in Israel, which opened in 2013, consumes about &lt;a href="https://www.eib.org/attachments/registers/129182965.pdf">740 GWh annually&lt;/a> and has a &lt;a href="https://www.ide-tech.com/en/our-projects/sorek-desalination-plant/?data=item_1">capacity of 640,000 m3/day&lt;/a>, enough water for 1.5 million people. This corresponds to a total energy consumption of 3.3 kWh/m3. So on top of the ~2.0 kWh/m3 needed for reverse osmosis, they only need an additional 1.3 kWh/m3 for pre-filtration, post-treatment, intake, discharge, pressure losses, and the works. It is, frankly, &lt;em>incredible&lt;/em> that we’re able to get it this low.&lt;/p>
&lt;p>These high-efficiency systems are unsurprisingly much more complex than the simple diagrams previously shown, with parallelized pipelines, circulation loops, heat exchangers, cleaning systems, and energy recovery devices. A typical piping and instrumentation diagram for a reverse osmosis system will look like a dense and inscrutable maze of symbols and lines.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/swro.png" alt="P&amp;amp;amp;ID of RO unit">
&lt;figcaption>P&amp;amp;ID of a reverse osmosis subsystem. Pictured in this diagram is the main RO “train”, which includes the main pumps, booster pumps, energy recovery units, and distribution manifolds. Source: Crenger.com.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>One common technique to improve the energy efficiency is to reuse as much of the pressure energy from the brine as possible, since it exits at a high pressure but no longer has any need to be pressurized. &lt;a href="https://energyrecovery.com/water/px-pressure-exchanger/">Pressure exchangers&lt;/a> are nifty devices that can do this with very high efficiency.&lt;/p>
&lt;figure>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe src="https://www.youtube.com/embed/IBwkgrwZYNU" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video">&lt;/iframe>
&lt;/div>
&lt;/figure>
&lt;p>All of this is only a fraction of the plant&amp;rsquo;s functionality! Depending on the quality of the membrane and permeate, sometimes an additional pass is needed, called &lt;a href="https://www.membranechemicals.com/water-treatment/brackish-water-reverse-osmosis/">Brackish Water Reverse Osmosis&lt;/a> (BWRO). In addition, the plant requires systems for pre-filtering the water and handling all the sludge that gets separated out, a post-treatment system that adds minerals, disinfects and adjusts the pH, anti-scaling systems that flush out mineral deposits from the RO membranes to prevent fouling, and more.&lt;/p>
&lt;p>Today, about 1% of the world&amp;rsquo;s drinking water is provided through desalination. This is likely going to rise as water security issues become more pressing, particularly in the Middle-East. The amount of desalination plants being built is rising, thanks to the dropping costs, and has now reached over 100,000,000 cubic meters &lt;em>per day&lt;/em>.&lt;/p>
&lt;p>The tender for the Sorek 2 plant, which will be even larger and more cost-effective than Sorek 1, is &lt;a href="https://www.gov.il/en/departments/news/desalination_260520">priced at $0.45/m3&lt;/a>. This is a very, very impressively low number. It’s low enough to affordable to all but the most impoverished households for their daily needs, year-round. This is the &lt;em>miracle&lt;/em> of desalination.&lt;/p>
&lt;h1 id="and-the-wall" >…And the wall
&lt;span>
&lt;a href="#and-the-wall">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>Despite this astonishing progress, at the same time, there’s little evidence of an &amp;ldquo;exponential&amp;rdquo; adoption curve—if anything, growth is slowing down slightly, as the lowest-hanging fruits get picked. Why?&lt;/p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/ro_capacity.png">
&lt;figcaption> History of desalination plant growth and capacity. Source: &lt;a href="https://www.sciencedirect.com/science/article/abs/pii/S0048969718349167">Jones et al 2019.&lt;/a>&lt;/figcaption>
&lt;/figure>
&lt;p>There&amp;rsquo;s a common misconception that droughts are acute, short periods of no rainfall. While this can be the case, in reality they are often &lt;em>prolonged periods of reduced rainfall&lt;/em> that can last years. And while a plant can be built, commissioned, and run profitably for a few years over the duration of a long drought, these plants are typically planned and designed to operate over timescales of 20+ years. And just like what happened with Freeport, this makes the economic projections of these ventures fraught with uncertainty. Desalination is a long-term solution, and thus the political and economic incentives also need to be long-term ones.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/water_security.png" alt="Water security map">
&lt;figcaption>Desalination plant locations contrasted with global water security risk.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>$0.45/m3 is very cheap, but it’s still significantly more expensive than what’s typically paid by agriculture, which is by far the largest consumer of freshwater. For comparison, &lt;a href="https://www.pnas.org/doi/10.1073/pnas.2005835117">a recent Berkeley study&lt;/a> estimated the median value of irrigation water for wheat to be $0.05 per m3. In many cases, farmers don’t even pay the costs for distribution or delivery!&lt;/p>
&lt;p>Let’s put this into perspective. Growing wheat requires approximately an acre-foot of water per acre of wheat. &lt;a href="https://view.officeapps.live.com/op/view.aspx?src=https%3A%2F%2Fwww.ers.usda.gov%2Fwebdocs%2FDataFiles%2F47913%2FWheatCostReturn.xlsx%3Fv%3D3339.5">Data from the USDA&lt;/a> indicates that an acre yields on average 45 bushels of wheat and that the total selling price is approximately \$350. If the water was purchased from Sorek 2, then it would cost at least \$550 per acre to water the crops, more than doubling the minimum production cost of wheat.&lt;/p>
&lt;p>To truly usher in an era of abundance and unlock affordable water and water-based economic activities for everyone, we need to eventually reduce desalination costs even further, ideally by 75% or more. Can it be done?&lt;/p>
&lt;p>Electricity costs account for &lt;a href="https://www.advisian.com/en/global-perspectives/the-cost-of-desalination">a majority of the operating costs&lt;/a> of a typical desalination facility. But the thermodynamic limit places a fundamental restriction on future cost savings. Desalination is just not at a &lt;em>local&lt;/em> maximum, it’s approaching the &lt;em>global&lt;/em> maximum: energy consumption can only improve by 25% with a &lt;em>physically perfect&lt;/em> separation technology. This is &lt;em>the wall&lt;/em>.&lt;/p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/opex_compared.jpg">
&lt;figcaption> Electricity is a large contributor to desalination costs, but is far from the only one. Source: &lt;a href="https://web.archive.org/web/20230521135336/https://www.advisian.com/en/global-perspectives/the-cost-of-desalination">Advisian (now Worley Consulting)&lt;/a>&lt;/figcaption>
&lt;/figure>
&lt;p>Diminishing returns are already starting to kick in: new R&amp;amp;D initiatives are met with disappointing results while membrane performance stagnates. As &lt;a href="https://pubs.rsc.org/en/content/articlehtml/2020/ee/d0ee00341g">this sobering 2020 review notes&lt;/a>, research efforts have been stunted by a &amp;ldquo;universal insignificance of novel materials in further enhancing the energy efficiency of desalination&amp;rdquo;.&lt;/p>
&lt;p>Other cost drivers are much smaller. Reducing costs elsewhere will be a multifaceted, arduous, and mostly incremental effort—for instance, &lt;em>completely eliminating&lt;/em> &lt;em>maintenance&lt;/em> would only result in a 7% overall reduction in OPEX.&lt;/p>
&lt;p>As a result, despite a historical learning rate of 12% that’s led to dramatic cost reductions, &lt;a href="https://agupubs.onlinelibrary.wiley.com/doi/full/10.1029/2019WR025841">desalination learning rates have sputtered out to near-zero in the past decade&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>…a trend break observed over the last 10 years mirrors an exhaustion of the potential for technical improvements, as well as an increasing complexity and nonlinearity of the factors influencing the [desalination] systems' cost.&lt;/p>
&lt;/blockquote>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/learning.jpg">
&lt;figcaption> Recent RO desalination deployments have stagnated in cost, as shown by the grey/black dots. Source: &lt;a href="https://agupubs.onlinelibrary.wiley.com/doi/full/10.1029/2019WR025841">Mayor, 2020&lt;/a>&lt;/figcaption>
&lt;/figure>
&lt;p>Recent price reductions have predominantly come from economies of scale: building larger and larger facilities which can take advantage of scaling laws and shared infrastructure. The scale of the aforementioned Sorek 2 plant, for example, is staggering: &lt;a href="https://ide-tech.com/en/project/sorek-b-desalination-plant/">672,000 cubic meters of tap water per day&lt;/a>. That’s a torrent large enough to fill a standard 20-foot shipping container every 5 seconds, nonstop, every single minute of the year.&lt;/p>
&lt;p>But this, too, has its limits. With larger scales comes larger capital requirements, making project finance more difficult, especially for countries with limited access to credit. The other issue is one of logistics: for its weight, water isn’t very valuable, meaning that distribution costs are a significant portion of the final price paid by the consumer. This works against excessive centralization of freshwater production: when demand from nearby population centers is met and the water must be piped further away, the additional distribution costs will eventually exceed the cost savings from the larger production scales. For this reason, water treatment infrastructure &lt;a href="https://alchemyatscale.substack.com/p/the-basics-of-scale-for-chemical">has a large degree of decentralization&lt;/a>.&lt;/p>
&lt;figure>
&lt;img src="https://liem.ca/img/desalination/treatment_gis.jpg">
&lt;figcaption> Location of wastewater treatment plants in the US. Source: &lt;a href="https://gis-calema.opendata.arcgis.com/maps/dfedf186401240bc8d382e80188ac512/explore?location=38.236546%2C-96.139422%2C3.57">CalOES GIS Data Manager&lt;/a>&lt;/figcaption>
&lt;/figure>
&lt;p>When all of this is taken into account, this means that desalination has reached its endgame. While there are still small improvements to be made here and there, there&amp;rsquo;s no silver bullet to making it dramatically cheaper, and likely no path to ever reducing costs to make it viable for large-scale agriculture of thirsty crops. The dreams of making deserts bloom remain just that—literal pipe dreams.&lt;/p>
&lt;h2 id="where-do-we-go-from-here" >Where do we go from here?
&lt;span>
&lt;a href="#where-do-we-go-from-here">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>All this isn’t a reason to doom and gloom. Just because desalination isn&amp;rsquo;t becoming more energy efficient doesn&amp;rsquo;t mean that it can&amp;rsquo;t become more &lt;em>economic&lt;/em>.&lt;/p>
&lt;p>Instead of focusing on the process itself, we can look for ways to reduce the cost of the inputs: either the cost of electricity or the capital costs.&lt;/p>
&lt;p>For example, with an average levelized cost of electricity from solar at &lt;a href="https://atb.nrel.gov/electricity/2023/utility-scale_pv">3 cents per kWh in the US&lt;/a>, and projected to drop even more in the coming years, there’s a case to be made that &lt;a href="https://smartwatermagazine.com/news/smart-water-magazine/towards-solar-powered-desalination-a-path-research-and-challenges">desalination facilities coupled with solar power&lt;/a> could be a cost-effective way of using excess power output. The product, water, doesn&amp;rsquo;t spoil and is relatively easy to store and transport. In fact, there have been &lt;a href="https://www.sciencedirect.com/science/article/abs/pii/S0306261921002725">proposals to do just that at the US-Mexico border&lt;/a>.&lt;/p>
&lt;p>Membranes that are more resistant to scaling and fouling, or are more resilient chemical treatment would also drive costs down—the pretreatment and cleaning systems can account for over &lt;a href="https://medium.com/@desalter/the-true-cost-of-drinking-water-understanding-the-expenses-of-reverse-osmosis-plants-4254b4f3f166">30% of a desalination plant’s capital costs&lt;/a> while membrane replacement and treatment chemicals account for about 25% of the operating costs.&lt;/p>
&lt;p>Perhaps most importantly, even unfruitful membrane research isn’t for naught. The findings and techniques of desalination will continue to spill over into adjacent disciplines, such as wastewater treatment, mineral recovery systems, and nanomaterials&lt;sup id="fnref:7">&lt;a href="#fn:7" class="footnote-ref" role="doc-noteref">7&lt;/a>&lt;/sup>.&lt;/p>
&lt;hr>
&lt;p>In many ways, desalination is one of the most striking case studies of the &lt;a href="https://sites.tufts.edu/eeseniordesignhandbook/2013/engineering-method/">engineer’s method&lt;/a>: displaying its greatest strengths, but also its biggest limitations.&lt;/p>
&lt;p>First, it&amp;rsquo;s a strong testament to the power of first principles reasoning and a scientifically-minded analysis. Starting from a simple thermodynamic thought experiment, something so abstract and naively simplistic that we would think it only good for ivory-tower theoreticians, we can infer a whole bunch of the design tradeoffs and limitations of desalination plants.&lt;/p>
&lt;p>Second, it demonstrates how engineering can be used to improve the human condition. Stable access to water is a fundamental building block of  civilization. It is necessary for life itself and feeds crops and carries away diseases like cholera and typhoid fever. It is the difference between an uninhabitable wasteland and a hotbed of human activity. Millions of people rely on desalination to ensure that they have enough water to drink, cook, clean, bathe, grow crops, and run their businesses.&lt;/p>
&lt;p>Third, it shows how continuous, compounding iterative improvement can lead to astonishing advances over long periods. In the history of desalination research, there have been very few specific points that could be considered &amp;ldquo;breakthroughs&amp;rdquo;. Instead, it&amp;rsquo;s been a dogged, persistent, multi-decadal effort by many scientists and engineers to bring the cost down to the point where—under specific circumstances—desalination is now a viable, cost-effective solution to water supply issues rather than a niche, uneconomic venture wholly reliant on government subsidies.&lt;/p>
&lt;p>But on the other side of the coin, the same scientific principles that have led to these tremendous improvements also show that they’re likely not going to keep up. Better designs and better technology will help—to a point. But desalination will never become the technological silver bullet some might hope for. Instead, it will remain a tool in the arsenal of policymakers and governments around the world—a very useful tool, to be sure, but one with specific strengths and weaknesses.&lt;/p>
&lt;p>Historically, desalination’s fate has been intertwined with politics and economics. In the 1950s and 60s, research was reliably championed by Senator—and eventually President—Lyndon Johnson, who had grown up in the &lt;a href="https://en.wikipedia.org/wiki/Texas_Hill_Country">Texas Hill Country&lt;/a> and had lived through the punishing consequences of drought firsthand. But despite this, many plants in the 1970s and 1980s were shut down, unable to justify their costs. And in 1982, the Reagan administration &lt;a href="https://pubs.usgs.gov/of/1984/0736/report.pdf#page=15">shuttered the Office of Water Resources Research&lt;/a>, as part of his agenda to defund most (non-military) government science programs.&lt;/p>
&lt;p>When confronted with a large, complex, and multifaceted problem without straightforward solutions, politicians have a tendency to punt the issue to &amp;ldquo;innovation&amp;rdquo;. Eventually, someone will invent a better technology with no downsides and then we can just use it!&lt;/p>
&lt;p>But that playbook won&amp;rsquo;t work here. There is no big fix coming. The technology we have is what we can and &lt;em>must&lt;/em> make do with. Even Israel, the poster child of what large-scale desalination can achieve, doesn’t depend on it for the majority of its water. &lt;a href="https://www.amazon.com/Let-There-Be-Water-Water-Starved/dp/1250115566">Its success with achieving water self-sufficiency can be ascribed to a sophisticated, multi-faceted approach to water conservation&lt;/a>, in which desalination plays only one part.&lt;/p>
&lt;p>This achievement was built up over decades of trial and error, with a patient, even-handed, long-term strategy that was able to survive the ebbs and flows of electoral politics. The small wins compounded over time into stunning results, but without the spectacle of glamourous ribbon-cutting events and glitzy big expenditures, and without the psychological certainty of salvation that a big gleaming steel plant might bring.&lt;/p>
&lt;p>Solutions to water insecurity exist. Desalination can poke at the boundaries and make them more tractable. But ultimately, it will require courage, political will, and constituents who won’t punish politicians who are willing to take &lt;a href="https://www.hurstpublishers.com/book/gambling-on-development/">a gamble on a long-term vision of economic and social development.&lt;/a>&lt;/p>
&lt;p>The engineering method won&amp;rsquo;t solve this for us. And it never will.&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>Directly using seawater as a coolant is possible, but it is not a trivial affair, and brings with it a whole host of other challenges.&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>Actually, that’s not true. This one was utterly and deliberately planned. What are you going to do about it, bud?&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>For example, what do we mean by two mixture components being &amp;ldquo;different&amp;rdquo;? This is actually an incredibly subtle argument with implications on the definition of entropy, and is known as &lt;a href="https://www.damtp.cam.ac.uk/user/tong/statphys/jaynes.pdf">the Gibbs paradox&lt;/a>.&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4" role="doc-endnote">
&lt;p>The actual physical mechanism of osmosis is also surprisingly obscure and &lt;a href="https://www.kidney-international.org/article/S0085-2538(15)32657-0/pdf">difficult to put into simple physical terms.&lt;/a>&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:5" role="doc-endnote">
&lt;p>A full derivation of this result, starting from the Gibbs free energy of mixing, can be found in &lt;a href="https://pubs.acs.org/doi/full/10.1021/acs.jchemed.0c01194">Wang et al., 2020.&lt;/a>&amp;#160;&lt;a href="#fnref:5" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:6" role="doc-endnote">
&lt;p>Interestingly, the energy consumption doesn’t depend on the properties of water or salt at all! That’s because osmotic pressure is a colligative property. In fact, this equation would be equally valid if we replaced water and salt with two completely different compounds.&amp;#160;&lt;a href="#fnref:6" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:7" role="doc-endnote">
&lt;p>There’s a good case to be made that membrane technologies are still in their infancy, with a plethora of potential applications awaiting now that membrane manufacturing has made its way down the learning curve. But that’s a topic for another time.&amp;#160;&lt;a href="#fnref:7" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>Reflections on my time as a design team leader</title><link>https://liem.ca/posts/design_team/</link><pubDate>Sat, 08 Oct 2022 00:00:00 +0000</pubDate><guid>https://liem.ca/posts/design_team/</guid><description>&lt;p>During my time in undergrad, I spent a year as a design team captain. Specifically, a co-captain of the &lt;a href="https://www.mcgillrocketteam.com/">McGill Rocket Team&lt;/a> (MRT). I also spent several years trying (and failing) to get another design team off the ground.&lt;/p>
&lt;p>I think this was quite possibly one of the most valuable experiences I could have had as a nerdy, young, somewhat immature soon-to-be-professional with questionable social skills and very little idea of what it&amp;rsquo;s like to be on the managerial side of things. It&amp;rsquo;s a big reason why I am the person I am today.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/design_team/rocket.jpg" alt="Carrying Blanche to the launch pad.">
&lt;figcaption>Carrying our rocket out to the launch pad.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>This kind of gig is pretty rare even amongst student leadership positions. The first reason is just the sheer size of the group you&amp;rsquo;re managing. The team at the time was very large—we were one of the most popular engineering clubs on campus—with over 200 members, although in practice only about 80 or so were actively contributing to one of the team&amp;rsquo;s projects. And due to the team&amp;rsquo;s flat hierarchy, I had between one to two dozen direct reports, depending on the time of year. In industry, by the time you end up managing a team of that size, you&amp;rsquo;re most likely a mid-to-late career professional with &amp;ldquo;Director&amp;rdquo; or even &amp;ldquo;VP&amp;rdquo; in your job title. It&amp;rsquo;s probably going to be many years before I end up leading that many people again, if ever.&lt;/p>
&lt;p>Within my mandate, I technically had a lot of power. We did have a few stakeholders you had to occasionally answer to—university admin to make sure we weren&amp;rsquo;t blowing yourselves up, the student society to ensure we weren&amp;rsquo;t spending your money on trips to Disneyland, our sponsors to ensure you were promoting their stuff—but aside from that we had very little oversight and full authority to run the team however we wanted. I had full control of the team&amp;rsquo;s budget (around CAD60,000 in cash and over CAD200,000 if you included in-kind sponsorships) and the final word on approving purchases.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/design_team/plaque_mrt.jpg" alt="A plaque. Ew.">
&lt;figcaption>A plaque I made for sponsors. No, I am not taking commissions right now.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Finally, it was a position that had a balance of technical as well as non-technical work, and more importantly, it had a long-term, concrete goal that had to be delivered by the end of the year: flying a high-power sounding rocket. There was an objective metric with which to evaluate your performance: placement in a high-power rocketry competition. This made it different from other student leadership positions where success and failure were much more open-ended, and different from other academic projects whose timeframes were at most a single semester. There were also longer-term projects that would take several years to come to fruition, which needed to be juggled alongside the shorter-term concerns.&lt;/p>
&lt;p>Despite how educational this experience was for me, due to the nature of the position, only a handful of people will ever get to go through it. Given that, I want to share some of my thoughts about it, a few years after the fact. Some of this is specific to the particularities of running an engineering student design team, and some of it applies more broadly to managing large teams.&lt;/p>
&lt;p>Some of these takeaways will likely come off as sounding melodramatic or self-important, but if it helps someone out there, I&amp;rsquo;m happy to look like a blowhard in the process. A lot of this is a bit of a &amp;ldquo;brain dump&amp;rdquo;, so it may seem a little scattered and disorganized. I should note that some of these things were actually not huge issues for me, but they could have been under different circumstances.&lt;/p>
&lt;h2 id="being-a-good-leader-is-hard" >Being a good leader is hard
&lt;span>
&lt;a href="#being-a-good-leader-is-hard">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>I&amp;rsquo;m going to be completely honest. I don&amp;rsquo;t think I was a very good captain. In fact, I think I was a pretty mediocre captain. If I had to go back in time and do it again, I would&amp;rsquo;ve done a lot of things differently. I kept the lights on, the team made progress on the initiatives we set out to work on, and we delivered a product in the end, but at the same time, we didn&amp;rsquo;t make as much progress as I would&amp;rsquo;ve liked and the product had flaws that we overlooked.&lt;/p>
&lt;p>Here are the things that we did well during my tenure:&lt;/p>
&lt;ul>
&lt;li>In general, we built an open, friendly and &lt;em>professional&lt;/em> leadership culture. The team was going through growing pains that year, and we instituted changes to make participation less intimidating to new members.&lt;/li>
&lt;li>We greatly improved our relationship with the university administration as well as with relevant external groups.&lt;/li>
&lt;li>We secured a record amount of funding and sponsorship, and ran a budget surplus which came in handy during the pandemic when funding dried up.&lt;/li>
&lt;/ul>
&lt;p>On the other hand:&lt;/p>
&lt;ul>
&lt;li>Under my watch, the organization became more bureaucratic and sclerotic, less nimble and in some cases unable to achieve things that groups with a fraction of the resources were able to.&lt;/li>
&lt;li>The final product we pushed out in the end was flawed from a systems/operational level, which led to a mediocre performance at the competition.&lt;/li>
&lt;li>I did not do a good job of keeping an eye on some sub-teams, and I did a very poor job resolving some major interpersonal conflicts that arose.&lt;/li>
&lt;/ul>
&lt;p>There are a couple of reasons why I think I didn&amp;rsquo;t do a great job. The main reason is simply immaturity: I didn&amp;rsquo;t have the life experiences or temperament to handle certain social situations gracefully. But there&amp;rsquo;s also reasons beyond the individual person that explain why it&amp;rsquo;s a tricky situation to be in.&lt;/p>
&lt;h3 id="nobody-really-knows-what-theyre-doing-yourself-included" >Nobody really knows what they&amp;rsquo;re doing, yourself included
&lt;span>
&lt;a href="#nobody-really-knows-what-theyre-doing-yourself-included">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Being on a design team is a learning experience for everyone, the leads included. That&amp;rsquo;s, erm, by design. It&amp;rsquo;s a relatively low-stakes environment, but with relatively high technical sophistication, which means that the work is challenging, but failure has no real consequences (aside from the disappointment of your teammates, perhaps). For most people, it&amp;rsquo;s the first time ever that they&amp;rsquo;ll have been put in a situation like this, just like you.&lt;/p>
&lt;p>The subteam and project leads are going to be learning how to manage people, set goals and expectations, work towards a long-term project, advance and improve their technical skills, and manage their time.&lt;/p>
&lt;p>You can provide rough guidelines and philosophies on how to manage, but my opinion is that any granularity beyond that won&amp;rsquo;t take you very far at all. Management is so context-driven that you really just have to strike it out on your own. And at least at MRT, we hadn&amp;rsquo;t put much in place to ensure a smooth transition of leadership, partly because the team was so young (only having been ~3 years old at that point) and partly because documentation had been a bit of an afterthought up until that point.&lt;/p>
&lt;h3 id="there-is-very-little-authentic-feedback-on-your-own-performance" >There is very little authentic feedback on your own performance
&lt;span>
&lt;a href="#there-is-very-little-authentic-feedback-on-your-own-performance">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>There&amp;rsquo;s a common belief that most managers are bad. While I can&amp;rsquo;t directly comment on how true this is, I think it&amp;rsquo;s at least plausible, and not due to some universal indictment of managers. There are structural reasons at play—chief among them is that management occurs in a constantly changing context, with inherently low amounts of feedback.&lt;/p>
&lt;p>If you want to rapidly improve and become good at something, it doesn&amp;rsquo;t suffice to simply do the thing a lot. Many people in North America spend a fair bit of time driving, yet the vast majority of drivers are mediocre. You also need &lt;a href="https://youtu.be/5eW6Eagr9XA">rapid feedback on your performance in the thing you&amp;rsquo;re trying to improve at&lt;/a>.&lt;/p>
&lt;p>But herein lies the problem: it&amp;rsquo;s difficult to solicit genuine feedback on your management skills. People are not generally inclined to give negative feedback to someone who ostensibly has more power than them, and when they are, it&amp;rsquo;s often less precise and actionable than feedback that&amp;rsquo;s given to someone&amp;rsquo;s technical skills. Think of the classic trope of the artist trying to please their client, only to be told that the design doesn&amp;rsquo;t &amp;ldquo;pop&amp;rdquo;, whatever that means. People will often bring up specific instances where you did something they didn&amp;rsquo;t like, but without being able to link that to a higher pattern of behavior or decision making, it&amp;rsquo;s difficult to draw any conclusions. It can also be more difficult to swallow: the feedback also tends to be more &lt;em>personal&lt;/em>, because management is fundamentally a social role and any faults and foibles you may have may reflect on your personality traits and quirks.&lt;/p>
&lt;p>Given this, it&amp;rsquo;s no surprise that most managers will roughly stay at the same level of competence, and why the &lt;a href="https://en.wikipedia.org/wiki/Peter_principle">Peter Principle&lt;/a> is so prevalent! Every jump in job responsibilities comes with increased expectations and scope of work, and places you in unfamiliar territory. It all comes down to whether you can pick things up fast enough to meet the new expectations, and in a management role, this self-improvement becomes much harder.&lt;/p>
&lt;h2 id="the-work-is-surprisingly-draining" >The work is surprisingly draining
&lt;span>
&lt;a href="#the-work-is-surprisingly-draining">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Nobody becomes the captain of an engineering club with the impression that it&amp;rsquo;s a &lt;em>light&lt;/em> workload. Even so, it&amp;rsquo;s still easy to underestimate how much &lt;em>work&lt;/em> goes into everything. When I became captain, I told myself that I was going to set aside time for technical projects, but in the end only about 10% of my time was on technical work. My co-captain admitted that he basically didn&amp;rsquo;t get the chance to work on anything technical at all the entire year! You&amp;rsquo;d think that sending emails, doing paperwork and attending meetings would be relatively quick and simple tasks, but it adds up.&lt;/p>
&lt;p>Paradoxically, managers think that they are working hard and that their position is stressful, but there&amp;rsquo;s a common perception from rank-and-file employees that managers are useless and don&amp;rsquo;t get very much work done at all. And I completely get it. If you viewed MRT from an outside lens, you wouldn&amp;rsquo;t think there was very much happening on the admin side: the captain just sends a couple of emails and slack messages, and attends meetings. It&amp;rsquo;s not like they&amp;rsquo;re working on any of the gnarly technical problems the leads have to deal with&amp;hellip; I think the perceived output was far smaller than the input I gave the role.&lt;/p>
&lt;p>Part of the reason is that since your work covers so many facets of the team, most people, on an individual basis, will see less than 20-30% of what you&amp;rsquo;re working on. But at the same time, this paradoxically makes you overestimate your relative contributions to the team compared to non-management roles, and how much work you actually have. I think this is part of the reason why &lt;a href="https://en.wikipedia.org/wiki/Parkinson%27s_law">Parkinson&amp;rsquo;s law&lt;/a> is a thing. People involved in the bureaucracy see how much work they have, and they&amp;rsquo;re also the people tasked with resource allocation and hiring decisions, so naturally they will end up hiring more bureaucrats.&lt;/p>
&lt;h3 id="the-present-is-all-consuming" >The present is all-consuming
&lt;span>
&lt;a href="#the-present-is-all-consuming">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>The common adage is that good leaders need to set direction, be proactive, and provide vision. And that&amp;rsquo;s all true. But perhaps the more telling part is that these &lt;em>are not strict requirements to lead&lt;/em>. That&amp;rsquo;s because leadership is an inherently reactive role. Your main job is to put out fires and deal with &lt;code>{CURRENT_EVENT}&lt;/code> so that your subordinates, those tasked with actual technical execution, can focus on their duties. And &lt;em>boy&lt;/em>, are there fires to put out!&lt;/p>
&lt;p>Most of them are not a big deal. Just a small heap of smouldering cinders that could either die out on their own or be quickly stamped out. Others, however, can quickly devolve into 5-alarm infernoes that threaten to engulf the entire team. The problem is that the line between &amp;ldquo;important&amp;rdquo; and &amp;ldquo;urgent&amp;rdquo; is often hard to tell and you are ill-equipped to make the differentiation. Today, I don&amp;rsquo;t remember 90% of the things that kept me up at night back then, and they were probably ultimately inconsequential. I just remember that the urgency felt &lt;em>real&lt;/em>. At the same time, I know that if the remaining 10% had gone unaddressed in time, we would have not launched a rocket that year.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/design_team/SAC.jpg" alt="SAC">
&lt;figcaption>MRT at Spaceport America. It&amp;#39;s a long road to get down there, but the journey is worth it.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Because of this, there is a sense of importance in everything you do. There is no such thing as a &amp;ldquo;typical month&amp;rdquo;, let alone a &amp;ldquo;typical year&amp;rdquo;. Each cycle brings with it new and unique challenges that each new generation of leadership has to tackle. All this running around leaves surprisingly little bandwidth for long-term thinking, and leaves you prone to falling into &lt;a href="https://www.briantimar.com/notes/mimetic/mimetic/">mimetic traps&lt;/a>.&lt;/p>
&lt;p>As a warning: the constant urgency can make you feel like your actions have a disproportionate impact on the team, even when this isn&amp;rsquo;t the case. Things generally won&amp;rsquo;t fall apart overnight if you decided to take a day or even a week off. Make sure to keep a sense of perspective and that you&amp;rsquo;re not inflating your own importance, and set aside some time for yourself.&lt;/p>
&lt;h3 id="most-initiatives-dont-work-out" >Most initiatives don&amp;rsquo;t work out
&lt;span>
&lt;a href="#most-initiatives-dont-work-out">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>One of the recurring themes during my tenure was the question of space. Space to work. Space to store items. Space to perform tests. Due to external circumstances, we were in severely short supply, to the point where it wasn&amp;rsquo;t clear if we were going to have a place to even build our rocket. We ended up setting up a pretty good arrangement with the chemical engineering department, but the outcome was far from a sure thing at the beginning. Of course, that&amp;rsquo;s what people see, but they don&amp;rsquo;t see all the other possibilities that you explored and invested time into, that ultimately didn&amp;rsquo;t pan out.&lt;/p>
&lt;p>A student engineering team is a big deal to the people within the team. In the grand scheme of things, it&amp;rsquo;s a nothingburger. You are still at the mercy of those who have the true power to decide whether your team thrives or dies: university administrators, funding providers, sponsors. And they&amp;rsquo;re at best, only tangentially invested in your success. At this level, there are very few &amp;ldquo;good&amp;rdquo; meetings with these people; at best, there are meetings that are &amp;ldquo;not bad&amp;rdquo;. Things only become &amp;ldquo;good&amp;rdquo; once you receive a signature and commitments in writing.&lt;/p>
&lt;p>At the time, it was really frustrating to get these ambiguous and noncommital responses from people. Didn&amp;rsquo;t they care about the students?! Why aren&amp;rsquo;t they paying attention to my emails??? In hindsight, I realize that many of them, in particular administrators, were operating under the same constraints I was, just on a different level. They were taking a risk by trusting students—famously a demographic known for their good judgment and levelheadedness—to govern themselves, and they had very little to gain from doing so.&lt;/p>
&lt;p>For every deal that works, there are often two or three that fell through, for various reasons. Most of them are outside of your control. And because of how open-ended everything seems to be, you&amp;rsquo;re constantly asking yourself if there&amp;rsquo;s something else you could be doing that could move the needle and turn a no into a yes.&lt;/p>
&lt;h2 id="you-have-only-indirect-control-over-the-success-of-projects" >You have only indirect control over the success of projects
&lt;span>
&lt;a href="#you-have-only-indirect-control-over-the-success-of-projects">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>A lot of people who end up in these kinds of roles have type A personalities and put a lot of pride into their work and into the success of projects that they&amp;rsquo;re tied to. But once the scope of work becomes large enough, it&amp;rsquo;s no longer possible to attribute success to any one person&amp;rsquo;s specific set of actions. You&amp;rsquo;re now two steps removed from the process of physically building the product.&lt;/p>
&lt;p>This means that your actions no longer contribute to the product quality.&lt;/p>
&lt;h3 id="you-can-no-longer-have-a-handle-on-everything" >You can no longer have a handle on everything
&lt;span>
&lt;a href="#you-can-no-longer-have-a-handle-on-everything">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Up until this point, the vast majority of group projects I had worked on had been in an academic or very small team setting, where the amount of people contributing to the project was never larger than ~8 people at most. At that scale, it&amp;rsquo;s indeed very possible to be familiar with every detail of the project.&lt;/p>
&lt;p>The problem is similar to &lt;a href="https://en.wikipedia.org/wiki/Brooks%27s_law">Brook&amp;rsquo;s law&lt;/a>: the &lt;em>space complexity&lt;/em> of large, collaborative programs grows superlinearly. Your ability to stay up to date with $n$ tasks and projects is $O(n)$, i.e. putting in 10% more time means you can stay up to date with 10% more projects. But for the people working under you, they also have $n$ projects and direct reports, so the amount of things to keep track of grows by $O(n^2)$. Some talented people are able to keep track of more things at once, but the scaling law will eventually win out: at some point the amount of stuff going on will exceed your ability to keep abreast of it.&lt;/p>
&lt;p>When laid out, it all sounds completely self-evident, but what it subtly shifts the way you frame issues. The questions you should be asking yourself become &amp;ldquo;&lt;em>How should I be spending my time?&lt;/em>&amp;rdquo; and &amp;ldquo;&lt;em>Does X need my intervention?&lt;/em>&amp;rdquo; rather than &amp;ldquo;&lt;em>What am I going to work on next?&lt;/em>&amp;rdquo; Your thinking becomes process-oriented as opposed to results-oriented.&lt;/p>
&lt;h3 id="your-information-quality-gets-worse" >Your information quality gets worse
&lt;span>
&lt;a href="#your-information-quality-gets-worse">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>In fiction, one of the most fundamental literary devices is the use of an unreliable narrator. It&amp;rsquo;s one of the first things that&amp;rsquo;s noted about a book, and it makes analysis much more challenging, because now the reader also has to determine truth based on the narrator&amp;rsquo;s supposed personality quirks, biases, mental state, etc.&lt;/p>
&lt;p>In real life, &lt;em>everyone&lt;/em> is an unreliable narrator, to varying degrees. Everyone has biases, and more specifically lens through which they analyze a problem or situation. And the more layers you have to go through, the worse it gets (at MRT though, it was at most 2 layers, so this wasn&amp;rsquo;t a huge issue). People often bring up the telephone game to illustrate how information gets distorted simply by passing through people. Now imagine when the people relaying the message are &lt;em>not necessarily incentivized to relay accurate information&lt;/em>.&lt;/p>
&lt;p>People on the front lines have the best idea of what the underlying reality actually looks like, but they are also likely to overestimate the relative importance of the issues that they are facing. Conversely, people who are a step removed from the actual day-to-day operations can be good at pointing out long-term structural issues, but they will have little insight on how to fix them as they won&amp;rsquo;t know which courses of action are realistic.&lt;/p>
&lt;p>There&amp;rsquo;s another aspect to it, which is the power dynamic. People will not naturally interact with a manager the same way they interact with a peer. At MRT, it wasn&amp;rsquo;t particularly bad since I didn&amp;rsquo;t make hiring decisions (anyone who wanted to join the team was welcome to join) and I couldn&amp;rsquo;t unilaterally &amp;ldquo;fire&amp;rdquo; people. But it gets worse the larger an organization becomes.&lt;/p>
&lt;p>Once you realize this, it becomes clear that one of your main duties is to figure out and tap into good sources of information, and then aggregate them. That&amp;rsquo;s going to be an inherently very personal judgement, based on your assessment of other people and their trustworthiness. Your ability to accurately understand what&amp;rsquo;s going on now becomes tied to your ability to judge people.&lt;/p>
&lt;h3 id="cause-and-effect-are-difficult-to-discern" >Cause and effect are difficult to discern
&lt;span>
&lt;a href="#cause-and-effect-are-difficult-to-discern">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Rocketry is an extremely unforgiving hobby—in the words of Tom Mueller, SpaceX&amp;rsquo;s ex-CTO of propulsion: &amp;ldquo;There are a thousand things that could happen when you light a rocket engine, and only one of them is good.&amp;rdquo; Student teams will spend the better part of a year designing, building, and testing their rockets, with the cumulative time commitment in the thousands of hours, all while juggling their schoolwork, jobs and whatever other commitments they may have. Finally, they make their way down to the competition, install their rocket on the launch rail, press the small red button, and watch with anticipation, hoping that something doesn&amp;rsquo;t go horribly wrong.&lt;/p>
&lt;p>There are three phases to the flight. The powered ascent phase, where the rocket engine is active and accelerating the vehicle upwards, is the most intense and typically lasts less than ten seconds. The coast phase continues until apogee is reached thirty seconds later, shortly after which a drogue chute is deployed to slow the descent. The controlled descent phase continues for 4-5 minutes, after which the main parachute deploys and the rocket lands a bit under a minute later. In total, the flight lasts about 6 minutes, but the majority of the potential failure points occur in the first minute.&lt;/p>
&lt;p>Furthermore, since launching a rocket is both very expensive and very logistically complicated, most teams will only get to launch their rockets once or twice a year. The competition is often the first—and sometimes last—time a rocket is flown. That leaves very little room for failure. Even something as small as using the wrong screw thread tolerances in your parachute deployment assembly can doom a flight.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/design_team/pleasegod.jpg" alt="Praying for a safe launch">
&lt;figcaption>The natural reaction to seeing your rocket take off.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Engineers are familiar with &lt;a href="https://asq.org/quality-resources/root-cause-analysis">root cause analysis&lt;/a> and its use to identify and mitigate sources of failure. A common rule of thumb is the &lt;a href="https://en.wikipedia.org/wiki/Five_whys">Five whys&lt;/a>: any root cause is discovered by asking &amp;ldquo;why?&amp;rdquo; five times. Usually, the first couple of whys are purely technical in nature, but as they become higher and higher level, the human factor becomes involved. This is where things get more nebulous and messier. Was the seal not properly checked due to lax maintenance standards? Or were the maintenance standards fine, and instead there was a &amp;ldquo;culture of laxness&amp;rdquo;? How do you even define that? And what about the counterfactual: would a &amp;ldquo;culture of non-laxness&amp;rdquo; have prevented the incident? What could you even have done to prevent a culture of laxness? The solutions may seem obvious on paper, but things involving humans rarely have a way of working out the way you expect them to on paper&amp;hellip;&lt;/p>
&lt;h3 id="non-alignment-is-the-default-state" >Non-alignment is the default state
&lt;span>
&lt;a href="#non-alignment-is-the-default-state">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>This one is a bit more specific to MRT, but I think there are also parallels to be drawn from elsewhere. Student engineering design teams demand a ton of unpaid time and commitment, often 10-20+ hours a week, from people that are already hard-pressed for time and energy. A lot of people join engineering design teams to pad their resumes, and MRT was no exception.&lt;/p>
&lt;p>It turns out that there are much less intense (or better paid) activities that will be just as beneficial to helping you get a job. Design team participation is helpful for landing your first internship, but after that, prospective employers are overwhelmingly going to consider your professional experience over any extracurriculars. At that point, any further time investment into a design team will have diminishing returns, viewed from a pure employability perspective. Indeed, that&amp;rsquo;s what some people did: they joined the team, stuck around to make some minor contribution they can slap onto their CV, got a job, and then we never heard from them again.&lt;/p>
&lt;p>At the same time, this wasn&amp;rsquo;t the case for many people. They stayed on even after they had &amp;ldquo;made it&amp;rdquo; because &amp;ldquo;rockets are cool&amp;rdquo; was a sufficient motivator. That&amp;rsquo;s a really awesome thing to see, but depending on passion to get the job done is also a fickle game. It means things that are more &amp;ldquo;interesting&amp;rdquo; will get disproportionate amounts of attention even if they&amp;rsquo;re less essential to the group&amp;rsquo;s core goals.&lt;/p>
&lt;p>In this narrow sense, most of them won&amp;rsquo;t be as invested as you. You are the central locus, in a position that selects for investment in the team: not any particular project, but the team as a whole. Just like how business owners and event organizers often express discontentment with the initiative or drive of their employees, because they expect their employees/volunteers to work with the same gusto and passion that they do—they&amp;rsquo;re projecting their own passions and interests onto other people who don&amp;rsquo;t have the same motivations or investment into the enterprise.&lt;/p>
&lt;p>Sometimes, it would frustrate me that people would be unwilling to put in the legwork to do something, or to see a project stagnate. But this is &lt;em>completely normal&lt;/em>! If anything, this should be the expectation! Of course, expecting it doesn&amp;rsquo;t make it any easier. Sometimes it will feel like herding cats to get an initiative off the ground.&lt;/p>
&lt;h2 id="decision-making-becomes-harder" >Decision-making becomes harder
&lt;span>
&lt;a href="#decision-making-becomes-harder">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>So far, I&amp;rsquo;ve mostly discussed the social elements of being the head honcho. And they&amp;rsquo;re all relevant, but they paint an incomplete picture without talking about the main function of the captain role: being the chief executive. You are there to make decisions, and to solve problems.&lt;/p>
&lt;p>This, in turn, makes the experience qualitatively different from just being a technical lead or project manager, because you have the &lt;em>de facto&lt;/em> last say. If you are a stubborn person who likes doing things your way, then this can be a good place to be. But it also means that the decisions you have to make are generally going to be trickier, more open-ended, and more ambiguous than lower down the chain. This is simply because if a problem has a clear-cut, unambiguous solution, then it will never reach you because &lt;em>someone lower down the chain would have already solved it&lt;/em>.&lt;/p>
&lt;p>Furthermore, if a problem reaches you, then you &lt;em>have&lt;/em> to address it, because if you don&amp;rsquo;t, &lt;em>no one else will&lt;/em>. Saying &amp;ldquo;this isn&amp;rsquo;t my problem&amp;rdquo; is not an option. Not only will your decisions become tougher, you&amp;rsquo;ll have to make &lt;em>more&lt;/em> of them. The decisions are not harder in the sense of being able to &amp;ldquo;grasp the issues&amp;rdquo;, but in more subtle ways that I will outline in the next few sections.&lt;/p>
&lt;h3 id="you-can-no-longer-please-everyone" >You can no longer please everyone
&lt;span>
&lt;a href="#you-can-no-longer-please-everyone">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Nicholas Taleb often expounds on the importance of having &amp;ldquo;&lt;a href="https://en.wikipedia.org/wiki/Skin_in_the_Game_(book)">skin in the game&lt;/a>&amp;rdquo;, and while I was able to appreciate his argument in an academic, sterile sense, it was only after my tenure as a captain that I &lt;em>really&lt;/em> got what he meant.&lt;/p>
&lt;p>It&amp;rsquo;s easy to be considerate and virtuous in the eyes of your peers when the choice is simply between being an asshole and &lt;em>not&lt;/em> being an asshole. And most of the time, people will choose not to be assholes, barring momentary lapses in judgment or whatever character flaws that everyone possesses to different degrees. But what will you do when there will &lt;em>always&lt;/em> be someone unhappy with your decision? What do you value more, and what do you value less?&lt;/p>
&lt;p>Most people have never made and will never have to make these kinds of calls. Everyone can see the results of these decisions, even if they don&amp;rsquo;t see what went into it. And everyone can assess for themselves whether you made the right decision or not. This assymmetry means that you will be judged in ways that will feel unfair, while at the same time very few people will be able to empathize with your situation.&lt;/p>
&lt;p>Below a certain level of scope, compromise is possible. Above this, you are often dealing with resource allocation problems, and you are the final person responsible for the outcomes. At a middle management level, sometimes you have to screw over your team, but that&amp;rsquo;s often because some higher-up has forced your hand, and you regretfully have little say in the matter. But at the top, there&amp;rsquo;s no hiding behind someone else or deflecting responsibility. When you get down to it, sometimes you will necessarily be screwing someone over no matter which side you pick.&lt;/p>
&lt;p>You can alleviate this by having a committee make executive decisions, but this is far from a silver bullet. The tradeoff is that your organization becomes slower moving and less responsive, since you now have to build consensus to spur action, and the overall vision gets diluted. After all, the term &amp;lsquo;design by committee&amp;rsquo; is a pejorative: a sign of a mediocre product focused on pleasing everyone rather than making difficult tradeoffs.&lt;/p>
&lt;h3 id="the-environment-is-fraught-with-uncertainty" >The environment is fraught with uncertainty
&lt;span>
&lt;a href="#the-environment-is-fraught-with-uncertainty">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>When most people think of moral or ethical tradeoffs, the trolley problem is usually one of the first things that comes to mind. It&amp;rsquo;s a situation where the person has to choose to make a difficult moral tradeoff between intervening and killing one person vs. standing by and letting 5 people die instead. Anyone who&amp;rsquo;s spent slightly more time online will be familiar with various trolley memes, where the scenarios become increasingly absurd and humorous.&lt;/p>
&lt;p>I enjoy trolley problem memes, and as for the thought experiment itself, I appreciate how it illustrates that the lack of an action (i.e. not pulling the lever) is in of itself a decision. When the buck stops with you, you will end up making a lot of trolley problem decisions, in the sense that sitting on it and hoping the problem goes away is in of itself a decision. But if I had to make a trolley problem meme that was more representative of what real decisions look like, it would be something like this:&lt;/p>
&lt;p>
&lt;img src="https://liem.ca/img/design_team/trolleyproblem.png" alt="A trolley problem example">
&lt;/p>
&lt;p>Obviously, it&amp;rsquo;s even more ambiguous than that because these percentages aren&amp;rsquo;t handed to you on a silver platter! You could attempt to collect quantitative information instead to make an &amp;ldquo;objective&amp;rdquo; decision, but life usually doesn&amp;rsquo;t readily provide you with easy-to-measure data. That takes time, and effort. Trying to quantify the choices is &lt;em>in of itself a decision&lt;/em>. It&amp;rsquo;s not a foolproof one either; it can easily lead to bickering over methodologies and quantities and ultimately &lt;a href="https://en.wikipedia.org/wiki/Analysis_paralysis">analysis paralysis&lt;/a>.&lt;/p>
&lt;p>This is why there are so many different decision-making systems for managers: decision matrices, the &lt;a href="https://en.wikipedia.org/wiki/Cynefin_framework">Cynefin framework&lt;/a>, &lt;a href="https://www.team-consulting.com/insights/dr-design-research-no-donald-rumsfeld/">Rumsfeld matrices&lt;/a>, and much, much more. They help people contextualize their information and the choices they have to make, and they bring some semblance of order into the messy, messy chaos of reality.&lt;/p>
&lt;p>The other side of this is that it&amp;rsquo;s easy to deflect criticism: some people have a different mental model/probability assessment—maybe they&amp;rsquo;re standing next to one of the boxes on the track and they know &lt;em>for sure&lt;/em> that it&amp;rsquo;s safe to deflect the trolley in this direction—and indeed for this specific decision they would be in a better position to make the correct choice, but that doesn&amp;rsquo;t mean that they would &lt;em>a priori&lt;/em> have a better mental model for &lt;em>all&lt;/em> decisions. Furthermore, their message is probably being relayed to you imperfectly. It&amp;rsquo;s pretty rare that you&amp;rsquo;ll actually have a situation where someone is screaming: &amp;ldquo;HEY, I AM NEXT TO THIS BOX AND I AM PRETTY SURE THERE IS NO ONE IN HERE&amp;rdquo;. And sometimes you&amp;rsquo;ll also have someone standing near the other box, yelling &amp;ldquo;I&amp;rsquo;M PRETTY SURE THERE IS NO ONE IN HERE EITHER&amp;rdquo;. Who do you trust, and why?&lt;/p>
&lt;p>Smart people are not necessarily better at making &amp;ldquo;correct&amp;rdquo; decisions, but they &lt;em>are&lt;/em> better at coming up with post-hoc rationalizations of why their decision was correct, even in the face of evidence suggesting otherwise. It takes some genuine introspection and humility to admit to yourself that your reasoning was flawed, and to adjust your mental model and beliefs accordingly.&lt;/p>
&lt;h3 id="the-decision-space-is-huge" >The decision space is huge
&lt;span>
&lt;a href="#the-decision-space-is-huge">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>A lot of what I&amp;rsquo;ve described, while challenging, could still be applied to technical problems as well. After all, many purely technical decisions have uncertain outcomes. It&amp;rsquo;s not like the tradeoffs between using a single-separation, dual deployment or double separation system are immediately obvious either. I would argue, however, that technical decisions are still qualitatively much easier.&lt;/p>
&lt;p>In a nutshell, technical problems tend to be much self-contained. Oftentimes, any particular technical problem will boil down to two or three practical choices once it&amp;rsquo;s sufficiently studied. In contrast, for something like implementing a new team policy, there&amp;rsquo;s an almost infinite number of possible solutions. Each decision carries with it a bajillion micro-decisions: implementation details that can make or break a solution.&lt;/p>
&lt;p>It&amp;rsquo;s much more likely for you to overlook an idea than if you were tasked with designing (for example) an engine ignition system, since that possibility space is constrained by physical laws. Not uncommonly, you&amp;rsquo;ll spend a lot of time thinking about a problem, brainstorm ideas, painstakingly debate which route to take&amp;hellip; and then someone will just suggest a far better idea the instant you announce your solution. It&amp;rsquo;s like attempting to find something via Google, failing to do so, and then having someone else punch it the exact right combination of keywords and finding it within 5 minutes.&lt;/p>
&lt;p>When this happens, you&amp;rsquo;ll probably either end up looking dumb, or stubborn and recalcitrant, regardless of however you choose to respond. Nobody wants to look dumb, but being unresponsive and unwilling to listen to feedback is worse. You might just have to swallow your pride and backtrack.&lt;/p>
&lt;h2 id="what-does-this-mean" >What does this mean?
&lt;span>
&lt;a href="#what-does-this-mean">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>If you&amp;rsquo;ve gotten this far, you might think that this all seems like vague whining about how upper management is hard. That&amp;rsquo;s not completely off, if reductionist. The common theme among all of these points is that the higher you go, the less your decisionmaking is based on ground truths, i.e., &amp;ldquo;facts&amp;rdquo;. There&amp;rsquo;s just simply too much information, too many moving parts, too many uncertainties, too many feedback loops for any single person to make sense of it all. Abstractions become a necessity—it&amp;rsquo;s your worldview and mental model of a situation that let you assign probabilities and weights to each of the corresponding choices. More often than not, decisions need to be made based on a &amp;ldquo;gut feeling&amp;rdquo;. Your choices become more-or-less a reflection of your specific personality traits and your mental model of the world—ironically, making the person with the most influence in the organization the worst person to make completely rational decisions.&lt;/p>
&lt;p>But rationality is not a prerequisite to success or correctness, and in many cases there&amp;rsquo;s not enough information to make a well-informed decision anyway. It seems to me that people who do succeed in corporate leadership and entrepreneurship have tapped into an accurate mental map of the underlying reality for any number of reasons. Those reasons almost never originate from a &amp;ldquo;rational&amp;rdquo; set of inferences. Their reasoning is often fluid, intuitive, and almost instinctual. Steve Jobs didn&amp;rsquo;t get his opinions on, for example, industrial design, from doing a thorough literature review of the psychology of aesthetics.&lt;/p>
&lt;p>Elon Musk&amp;rsquo;s &amp;ldquo;first principles&amp;rdquo; approach has often been touted by the corporate media, but anyone who&amp;rsquo;s actually tried to put it into practice will realize how trivially unhelpful it is. It may be based on physical first principles, but starting a computer chip business on the premise that we&amp;rsquo;re not close to &lt;a href="https://en.wikipedia.org/wiki/Bremermann%27s_limit">Bremmerman&amp;rsquo;s limit&lt;/a> is probably not a recipe for success. Where do you stop? Any application of first principles reasoning that isn&amp;rsquo;t totally trite requires some pretty significant assumptions to be made. What is a &amp;ldquo;useful&amp;rdquo; first principle to keep in mind, and what isn&amp;rsquo;t? Musk works well within that framework because he has an intuitive ability to determine where that line should be drawn (most of the time). This doesn&amp;rsquo;t say anything about the usefulness of a &amp;ldquo;first principles&amp;rdquo; approach for other people!&lt;/p>
&lt;p>It&amp;rsquo;s easy to dissect with the benefit of hindsight why the iPhone succeeded but the Segway did not. To make that assessment ahead of time, though, &lt;em>at the right time&lt;/em>, no amount of &amp;ldquo;market research&amp;rdquo; will get you there. By the time it does, you&amp;rsquo;ll have been scooped by someone who was able to make the same inferences in the absence of complete information.&lt;/p>
&lt;p>Recently, there was some discussion about texts from prominent tech entrepreneurs and investors that &lt;a href="https://www.npr.org/2022/09/30/1126084000/texts-released-ahead-of-twitter-trial-show-elon-musk-assembling-the-deal">were released&lt;/a> as a part of the Twitter/Elon Musk case. A lot of people have &lt;a href="https://www.theatlantic.com/technology/archive/2022/09/elon-musk-texts-twitter-trial-jack-dorsey/671619/">expressed shock&lt;/a> at how &amp;ldquo;dumb&amp;rdquo; these Silicon Valley elites sound and how they just seem to be throwing ideas at the wall without any real analysis or solid reasoning behind them. But I don&amp;rsquo;t think this is particularly surprising. Their real-world success came about because their instincts were on the money for a bunch of major bets with real stakes. At least in their eyes, they have reason to believe that their instincts are generally correct, even if the result will only become evident much later down the road.&lt;/p>
&lt;p>That explains why they tend to double down when challenged on their assertions, why egotistical behavior goes unpunished, and most notably why their failures occur the way that they do. They &lt;a href="https://fs.blog/map-and-territory/">mistake the map for the territory&lt;/a> because they mistakenly think their mental model accurately covers more realities than it actually does. One example is &lt;a href="https://en.wikipedia.org/wiki/James_H._Clark">Jim Clark&lt;/a>, who after a successful innovative stint in Silicon Valley with SGI and NetScape, moved into healthcare to try to apply the same ideas. Unfortunately, &lt;a href="https://archive.fortune.com/magazines/fortune/fortune_archive/2000/02/21/273905/index.htm">most of the ideas flopped&lt;/a> due to their naive understanding of the industry. It&amp;rsquo;s important to keep this in mind even as your successes pile up: it may mean that your mental model is particularly well calibrated for certain realities, but it doesn&amp;rsquo;t say anything about how well the model can be extrapolated.&lt;/p>
&lt;h2 id="advice" >Advice
&lt;span>
&lt;a href="#advice">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>The challenge with giving leadership advice is that everything is so context-dependent that usually specific advice (or &amp;ldquo;overfitted&amp;rdquo;, in statistical terms) is not helpful. At the same time, trying to generalize advice results in vague, wishy-washy soundbites that wouldn&amp;rsquo;t seem out of place on a motivational poster.
&lt;figure>
&lt;img src="https://liem.ca/img/design_team/platitude.jpg" alt="A meme about platitudes">
&lt;figcaption>This is disgustingly relatable.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>With that said, here are some points I think are particularly salient.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Understand yourself and your own strengths and weaknesses&lt;/strong>. If leadership inherently requires a personal touch, then you need to have a high level of self-awareness to have any hope of being able to draw lessons out and improve your skills. Try to be introspective and understand why you feel compelled to act a certain way, even if you don&amp;rsquo;t like the answer.&lt;/li>
&lt;li>&lt;strong>Write down the reasons why you are making a decision a certain way&lt;/strong>. These reasons don&amp;rsquo;t have to be made public. But this will force you to explicitly list out all the considerations floating around in your head, and give you better insight into your own mental model and decision-making framework. Writing something out also generally requires you to fully understand the issue at hand. You will be in a better position to justify your reasoning later, if you ever need to revisit the decision.&lt;/li>
&lt;li>&lt;strong>Don&amp;rsquo;t take bad decisions personally, but as an opportunity to adjust your mental model&lt;/strong>. Nobody starts out with having a perfect understanding of human social dynamics or project management or systems engineering. It would be absurd to expect anyone to have a perfectly representative mental model of reality. If someone criticizes your decisions, do not take it as an attack on you, but rather as a critique of your mental model and any potential blind spots you may have.&lt;/li>
&lt;li>&lt;strong>Praise in public, criticize in private&lt;/strong>. This is nothing particularly groundbreaking, and is in fact an extremely common rule, yet I repeatedly failed to do it. It is one of my biggest regrets about how I went about things at MRT. Nobody enjoys being publicly humiliated. It&amp;rsquo;s an easy way to damage morale and build resentment.&lt;/li>
&lt;li>&lt;strong>Be an example of the culture and beliefs you want to see.&lt;/strong> If there&amp;rsquo;s anything that could uniquely be attributable to the success or failure or a project, it&amp;rsquo;s culture. And culture flows from the top down. People will notice when you take things seriously vs. when you don&amp;rsquo;t. The people you interact with will feel incentivized to do things that they think you&amp;rsquo;ll react well to, and disincentivized from doing things that they think you&amp;rsquo;ll give them a hard time for. That&amp;rsquo;s why micromanagement, for example, creates a vicious cycle, as it kills initiative and prevents people from organically learning from their mistakes. This in turn reinforces the notion that you have to tell people &amp;ldquo;how to do their jobs right&amp;rdquo;.&lt;/li>
&lt;li>&lt;strong>Respect, but don&amp;rsquo;t sweat the small stuff&lt;/strong>. Remember to keep some perspective. What&amp;rsquo;s the worst thing that could happen if you decline an event invitation, or fail to apply for some funding? At the end of the day, we&amp;rsquo;re all here to have a good time. Optimizing for fun is not the worst idea out there.&lt;/li>
&lt;/ul>
&lt;h2 id="building-a-community-is-awesome" >Building a community is awesome
&lt;span>
&lt;a href="#building-a-community-is-awesome">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>There&amp;rsquo;s one more thing that I want to talk about.&lt;/p>
&lt;p>There is the concept of the McGill Rocket Team as the legal entity. It exists in the databases and spreadsheets of McGill&amp;rsquo;s administration and the engineering student society, in the form of financial accounts and contact information. Then, there is the concept of MRT as an institution, which is nothing but a set of ideas instilled in its members, who then go on to perpetuate the institution through their actions and beliefs. It only exists because a core group of ~60 or so people believe in its existence.&lt;/p>
&lt;p>MRT was a very young team when I joined, with only two years of experience under its belt. The team was still figuring out a lot of things, like how to structure its design process, how to recruit people, how to organize the team, and how to produce a high-quality product while providing an educational experience for its members. I got to witness these processes and ideas get built up around me, collectively morphing into what we call the McGill Rocket Team.&lt;/p>
&lt;p>I don&amp;rsquo;t keep too up-to-date with their activities these days. And on the occasion where I do hear from them, MRT is still very much alive today. It&amp;rsquo;s become one of the more bigger, more well-funded, more established and more ambitious design teams at McGill, and it&amp;rsquo;s clear that the team is providing an awesome and enriching experience for its members.&lt;/p>
&lt;p>People who were on the team during my tenure have graduated or moved on. There&amp;rsquo;s few people left who would remember me at all. Most of the practices and initiatives I implemented have been scrapped or reworked. At some point, my contributions will become entirely forgotten. The lessons learned from the past will still be incorporated into the team&amp;rsquo;s actions, but will no longer be traceable to any single individual. What remains in place is bigger and more significant than what anyone could hope to achieve on their own.&lt;/p>
&lt;p>And beyond the cool projects, the career benefits, the networking events, the personal development and the unique memories, that&amp;rsquo;s why it was all worth it.&lt;/p></description></item><item><title>There is no Kantrowitz limit</title><link>https://liem.ca/posts/kantrowitz/</link><pubDate>Sat, 16 Jul 2022 00:00:00 +0000</pubDate><guid>https://liem.ca/posts/kantrowitz/</guid><description>&lt;p>Anyone who&amp;rsquo;s somewhat interested in mass transportation systems is bound to have looked into the Hyperloop concept at one point or another. One of the things that came up during my research was something called the &amp;lsquo;Kantrowitz limit&amp;rsquo;.&lt;/p>
&lt;p>What is the Kantrowitz limit? I admittedly had never heard of it before, but it seemed like something very important that fortunately had technological solutions. Yet there was something unsatisfying about all the popular resources I could find about it. They all seemed to be very surface level, and when I started looking into it the rabbit hole ended up going a lot deeper than I expected, so I am writing this in the hopes that it might be useful to someone else one day.&lt;/p>
&lt;h2 id="kantrowitz-limit-the-elevator-pitch" >Kantrowitz limit: the elevator pitch
&lt;span>
&lt;a href="#kantrowitz-limit-the-elevator-pitch">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>The Kantrowitz limit is a theoretical compressible gas dynamics restriction that places a limit on the flow velocity. It was first derived in 1945 by Arthur Kantrowitz, a physicist and aerospace engineer, from whom it received its namesake, but remained relatively obscure—&lt;a href="https://www.mheducation.com/highered/product/modern-compressible-flow-historical-perspective-anderson/M9781260471441.html">&lt;em>Modern Compressible Flow&lt;/em> by John D. Anderson&lt;/a>, the quintessential textbook for gas dynamics, for example, has no mention of it—until 2013, when it was reintroduced into the mainstream engineering lexicon when Elon Musk proposed his Hyperloop concept for futuristic, high-speed travel.&lt;/p>
&lt;p>Musk is a little vague about the Kantrowitz limit in his &lt;a href="https://www.tesla.com/sites/default/files/blog_images/hyperloop-alpha.pdf">Hyperloop white paper&lt;/a>, and doesn&amp;rsquo;t really explain any of the technical details, except that it&amp;rsquo;s an important consideration when designing the Hyperlood pods. As he explains:&lt;/p>
&lt;blockquote>
&lt;p>Whenever you have a capsule or pod (I am using the words interchangeably) moving at high speed through a tube containing air, there is a minimum tube to pod area ratio below which you will choke the flow. What this means is that if the walls of the tube and the capsule are too close together, the capsule will behave like a syringe and eventually be forced to push the entire column of air in the system.&lt;/p>
&lt;/blockquote>
&lt;p>While this is possibly useful to laymen, it is a phenomenological explanation: it describes &lt;em>what&lt;/em> is happening, but doesn&amp;rsquo;t elaborate on &lt;em>why&lt;/em>. Thankfully, the &lt;a href="https://en.wikipedia.org/wiki/Kantrowitz_limit">Wikipedia article&lt;/a> has a fairly succinct explanation:&lt;/p>
&lt;blockquote>
&lt;p>If a near supersonic flow experiences an area contraction, the velocity of the flow will increase until it reaches the local speed of sound, and the flow will be choked. This is the principle behind the Kantrowitz limit: it is the maximum amount of contraction a flow can experience before the flow chokes, and the flow speed can no longer be increased above this limit, independent of changes in upstream or downstream pressure.&lt;/p>
&lt;/blockquote>
&lt;p>Seems simple enough. The Kantrowitz limit is related to the gas dynamics at near-sonic flow velocities. For vehicles moving at near-supersonic speeds through a tunnel (i.e. Hyperloop pods), the Kantrowitz limit places a design constraint on the ratio of the diameter of the pod to the diameter of the tube.&lt;/p>
&lt;h2 id="whats-the-hiccup" >What&amp;rsquo;s the hiccup?
&lt;span>
&lt;a href="#whats-the-hiccup">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>All of this is sensible and seems well and good&amp;hellip; except that this is a &lt;em>really, really basic concept that is known by anyone who has studied gas dynamics or aerodynamics at all&lt;/em>. I&amp;rsquo;m not trying to be an elitist here: &lt;a href="https://en.wikipedia.org/wiki/Choked_flow">choked flow&lt;/a> is probably taught by the second or third week of any undergraduate level gas dynamics course.&lt;/p>
&lt;p>So clearly, there should be more to it than this if someone got their name attached to it! Maybe the Wikipedia explanation was incomplete? What do other online sources on it say? There&amp;rsquo;s a surprising dearth of information—most of the articles I found only give a high level explanation of the Hyperloop. Those that &lt;em>do&lt;/em> dive into the relevant physics, despite otherwise widely ranging in credibility, all seem to just repeat what was said in the Hyperloop whitepaper.&lt;/p>
&lt;p>Here are a few examples:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://mappingignorance.org/2018/02/07/the-limits-of-hyperloop/">This article&lt;/a> by Mapping Ignorance repeats the &amp;ldquo;syringe effect&amp;rdquo;, and also cites an equation that seems to have been taken from the Wikipedia article&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>.&lt;/li>
&lt;li>&lt;a href="https://www.cnbc.com/2016/07/13/here-is-how-hyperloop-will-work-theoretically.html">CNBC&amp;rsquo;s article&lt;/a> doesn&amp;rsquo;t really mention the concept and just explains that compressor fan will &amp;ldquo;transfer high air pressure from [the pod&amp;rsquo;s] front to the rear and sides&amp;rdquo;.&lt;/li>
&lt;li>Brilliant.org has a section on the &lt;a href="https://brilliant.org/wiki/hyperloop/#physics-of-the-hyperloop">Physics of Hyperloop&lt;/a> where they also repeat the same claims about the Kantrowitz limit and the syringe effect. They directly quote the white paper on this.&lt;/li>
&lt;li>&lt;a href="https://jalopnik.com/the-key-innovation-that-makes-the-hyperloop-work-1113028439">An article&lt;/a> by Jalopnik specifically about the Kantrowitz limit just uncritically rephrases what Musk wrote, but it does cite &lt;a href="https://web.archive.org/web/20130217232130/http://ftp.rta.nato.int/public//PubFullText/RTO/EN/RTO-EN-AVT-185///EN-AVT-185-09.pdf">a paper&lt;/a> on the topic! But this paper assumes that you already know what the limit is, so some more digging is required.&lt;/li>
&lt;li>I also found &lt;a href="https://www.hyperloopdesign.net/airflow">this&lt;/a> from a site called HyperloopDesign.net which claims that there is no Kantrowitz limit for Hyperloop pods. However, their explanation of the relevant physics seems very dubious&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>, so I&amp;rsquo;m not going to consider their argument further.&lt;/li>
&lt;/ul>
&lt;h2 id="so-what-is-the-kantrowitz-limit-really" >So what is the Kantrowitz limit, really?
&lt;span>
&lt;a href="#so-what-is-the-kantrowitz-limit-really">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Without a satisfactory explanation, I decided to read the &lt;a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/b184216.pdf">original 1945 paper&lt;/a>&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup> by Kantrowitz and Donaldson. They were studying the design of diffusers for supersonic air streams (i.e. air intakes for supersonic planes). In short, the Kantrowitz limit has to do with the stability of normal shocks in variable-area ducts when decelerating gases from supersonic to subsonic velocities.&lt;/p>
&lt;h3 id="choked-flow-an-explanation" >Choked flow: an explanation
&lt;span>
&lt;a href="#choked-flow-an-explanation">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Let&amp;rsquo;s do a brief aside and discuss the concept of choked flow, since it is rather critical to understanding the issue at hand. You can skip this section if you are already familiar with the relevant physics.&lt;/p>
&lt;p>Consider a gas flowing through a variable-area duct&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>. As the area of the duct shrinks, the gas must either speed up or compress (become denser) to maintain the same mass flow rate. The maximum speed that the gas can reach through a reduction in area is the speed of sound. Once this speed is reached, any further reduction in area cannot increase the speed further (and in fact the gas will always reach Mach 1 at the vena contracta, or point with the smallest cross-sectional area, as long as this area is below the critical area).&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/subsonic_choke_no_accel.png" alt="Example of choked flow">
&lt;figcaption>Flow through a converging duct, right at the point where the flow chokes (throat velocity has reached Mach 1).&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>At this point, any further reduction of the pressure downstream of the duct will not influence the flow rate; it is considered choked. However, increasing the pressure upstream &lt;em>will&lt;/em> increase the mass flow rate by increasing the density of the gas, but the volumetric flow rate will remain roughly the same. So there is a &amp;ldquo;critical&amp;rdquo; amount of shrinkage the duct area can undergo before the flow reaches Mach 1. This, of course, depends on how much the gas decides to speed up vs. compress when the area is reduced, and the &amp;ldquo;speed-up-to-densification&amp;rdquo; ratio depends on the assumptions you make of the gas.&lt;/p>
&lt;p>Most commonly, we assume that the gas is &lt;a href="https://en.wikipedia.org/wiki/Perfect_gas">calorically perfect&lt;/a>&lt;sup id="fnref:5">&lt;a href="#fn:5" class="footnote-ref" role="doc-noteref">5&lt;/a>&lt;/sup>, and that the compression process is isentropic. In this case, the relationship between the choking contraction ratio and the airspeed is known as the &lt;em>area-Mach number relation&lt;/em>:&lt;/p>
&lt;p>$$
\frac{1}{\text{Contraction ratio}} = \frac{A^*}{A} = M\left[\frac{2}{\gamma+1}\left(1 + \frac{\gamma-1}{2}M^2\right)\right]^{-\frac{\gamma+1}{2(\gamma-1)}}
$$&lt;/p>
&lt;p>Where $M$ is the &lt;a href="https://en.wikipedia.org/wiki/Mach_number">Mach number&lt;/a> at some point in the duct (usually the entrance), $A$ is the area at the point in the duct where $M$ was taken, $A^*$ is the cross-sectional area at the minimum area of the duct (known as the &lt;em>throat&lt;/em>), and $\gamma$ is the &lt;a href="https://en.wikipedia.org/wiki/Heat_capacity_ratio">heat capacity ratio&lt;/a>, which varies depending on the gas but for air is roughly equal to 1.4. The interesting thing about this equation is how the contraction ratio only depends on the Mach number; there are no variables for temperature, pressure, density, etc.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/compression_ratio_to_mach_annot.png" alt="Area-Mach number relation">
&lt;figcaption>The area-Mach number relation creates a &amp;#39;U&amp;#39; shaped curve. Inside the U, the flow will be choked, and outside, the flow will be unchoked.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Something worth noting is that there are actually two solutions of $M$ for a given contraction ratio: one for $M&amp;lt;1.0$ and one for $M&amp;gt;1.0$. This means for any given ratio, there is a subsonic speed below which the flow will not choke and a supersonic speed above which the flow will not choke, surprisingly enough.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/subsonic-acceleration.png" alt="Accelerating subsonic flow">
&lt;figcaption>Subsonic flow is accelerated in a converging nozzle and chokes at the throat. If the duct diverges after, the flow can accelerate to supersonic speeds.&lt;/figcaption>
&lt;/figure>
This is also the principle behind rocket engine nozzles: a convergent-divergent nozzle will accelerate a gas from subsonic to supersonic velocities as long as the pressure drop is sufficiently high.&lt;/p>
&lt;h3 id="the-problem-with-supersonic-deceleration" >The problem with supersonic deceleration
&lt;span>
&lt;a href="#the-problem-with-supersonic-deceleration">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Since this process is isentropic and therefore reversible, one would imagine that the opposite scenario should also be possible: a converging-diverging inlet that decelerates supersonic gas to subsonic velocities.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/supersonic-deceleration.png" alt="Decelerating supersonic flow">
&lt;figcaption>Smooth deceleration of a supersonic stream. In practice, this is not achievable.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>In practice, however, this kind of arrangement is not possible to achieve and maintain. There are two problems.&lt;/p>
&lt;p>The first is that generally, before reaching a supersonic velocity, the system has to first accelerate through a subsonic regime. And a subsonic flow will &lt;em>also&lt;/em> choke the inlet, but at a much lower mass flow rate. As the system speeds up in the subsonic regime, some of the gas must get diverted away from the inlet as it cannot &amp;ldquo;fit&amp;rdquo; through the throat. The ratio of air diverted away to air entering the inlet is called the &lt;em>capture ratio&lt;/em>.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/subsonic-choked.png" alt="Choked sonic deceleration">
&lt;figcaption>Choked inlet at subsonic speeds. Some of the flow that would otherwise have entered the inlet is deflected away due to the pressure buildup.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>As the airspeed increases further and turns supersonic, the gas can no longer turn away in time (since it cannot receive information faster than the speed of sound). A bow shock will form in front of the inlet, and the subsonic gas on the other side &lt;em>can&lt;/em> turn away from the inlet, maintaining mass continuity.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/sonic-choked-deceleration.png" alt="Choked supersonic deceleration">
&lt;figcaption>Once the system settles at its (supersonic) cruising speed, a bow shock will form in front of the inlet. This leads to massive pressure losses, while the flow inside the duct is subsonic.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>The second problem is that even if a smooth supersonic deceleration is achieved, it is inherently unstable. Since the outgoing flow is subsonic, information about disturbances downstream (such as pressure fluctuations) would be able to propagate through it, lowering the mass flow rate, if only temporarily. However, since the entering gas is supersonic, information cannot propagate upstream through it, and its mass flow rate will remain unchanged. As Kantrowitz explains, &amp;ldquo;it therefore appears that isentropic deceleration through the speed of sound in channels is unstable and unattainable in practice.&amp;rdquo;&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/unstable-shock.png" alt="Unstable shock">
&lt;figcaption>As the shock moves backwards, it becomes stronger as the flow at the new location is traveling faster, which leads to an even greater pressure drop, causing a feedback loop until the shock is ejected from the inlet.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h3 id="implications-of-shock-waves" >Implications of shock waves
&lt;span>
&lt;a href="#implications-of-shock-waves">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Shocks are highly irreversible phenomena and will lead to significant amounts of energy dissipation. The total losses across the shock wave are captured by the drop in stagnation pressure. The stagnation pressure drop across a shock wave is given by the following equation:
$$
\frac{p_{t2}}{p_{t1}} = \left(\frac{\frac{\gamma+1}{2}M_1^2}{1 + \frac{\gamma-1}{2}M_1^2}\right)^{\frac{\gamma}{\gamma-1}} \left(\frac{1}{\frac{2\gamma}{\gamma+1}M_1^2 - \frac{\gamma-1}{\gamma+1}}\right)^{\frac{1}{\gamma-1}}
$$
Where $p_t$ is the total, or stagnation pressure, and the subscripts 1 and 2 denote before and after the shock, respectively. The stagnation pressure, is, in turn, directly proportional to the mass flow rate through the duct, as given by the following equation:
$$
\dot m = \frac{p_t A}{\sqrt{T_t}}\sqrt{\frac{\gamma}{R}}\left(\frac{\gamma+1}{2}\right)^{-\frac{\gamma+1}{2(\gamma-1)}}
$$
For a given duct area $A$, the mass flow rate depends on the total pressure and the total temperature. Because a shock is adiabatic, the stagnation temperature does not change across a shock, so $\dot m \propto p_t$ only.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/shock_pressure_recovery.png" alt="Pressure recovery">
&lt;figcaption>Pressure recovery of air across a normal shock, depending on supersonic Mach number&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Thus, a shock wave will result in total pressure losses. These losses will reduce the mass flow rate through the inlet by the proportional drop in the pressure. A smaller mass flow rate means a smaller throat area is needed to choke the flow.&lt;/p>
&lt;p>&lt;strong>So the Kantrowitz limit basically is just the area-Mach number relation multiplied by the stagnation pressure ratio across a normal shock.&lt;/strong>&lt;/p>
&lt;h3 id="effect-of-the-kantrowitz-limit" >Effect of the Kantrowitz &amp;ldquo;limit&amp;rdquo;
&lt;span>
&lt;a href="#effect-of-the-kantrowitz-limit">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Writing out the equation, the Kantrowitz limit is the area ratio denoted by:
$$
\overbrace{\frac{A_4}{A_0}}^{\text{area ratio}} =
\overbrace{M\left[\frac{2}{\gamma+1}\left(1 + \frac{\gamma-1}{2}M^2\right)\right]^{-\frac{\gamma+1}{2(\gamma-1)}}
}^{\text{area-Mach number relation}}
\underbrace{
\left(\frac{\frac{\gamma+1}{2}M^2}{1 + \frac{\gamma-1}{2}M^2}\right)^{\frac{\gamma}{\gamma-1}} \left(\frac{1}{\frac{2\gamma}{\gamma+1}M^2 - \frac{\gamma-1}{\gamma+1}}\right)^{\frac{1}{\gamma-1}}
}_{\text{stagnation pressure ratio across normal shock}}
$$
Simplifying and rearranging gives us the same form as the &lt;a href="https://en.wikipedia.org/wiki/Kantrowitz_limit#Derivation_of_Kantrowitz_limit">Wikipedia article&lt;/a>:
$$
\frac{A_4}{A_0} = M_0 \left(\frac{\gamma+1}{2+(\gamma -1)M_0^2}\right)^{-\frac{\gamma+1}{2(\gamma-1)}}
\left[\frac{(\gamma+1)M_0^2}{(\gamma-1)M^2_0+2}\right]^\frac{-\gamma}{\gamma-1}
\left[\frac{\gamma+1}{2\gamma M^2_0-(\gamma-1)}\right]^\frac{-1}{\gamma-1}
$$&lt;/p>
&lt;p>Plotting it out compared the basic isentropic compression case, it&amp;rsquo;s clear that the shock will greatly limit the design contraction ratio.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/kantrowitz_vs_isentropic.png" alt="Kantrowitz limit vs isentropic compression">
&lt;figcaption>Comparison of the choking contraction ratio with the Kantrowitz limit and with isentropic flow. The Kantrowitz effect means that the flow chokes much sooner than it otherwise would.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>The Kantrowitz limit is thus relevant when a supersonic flow needs to be decelerated to subsonic flow, such as is the case in air intake ducts on supersonic planes. It appears repeatedly in the literature mostly in papers dealing with the design of supersonic intake ducts.&lt;/p>
&lt;p>And perhaps instead of &amp;ldquo;limit&amp;rdquo;, a more appropriate term would be &amp;ldquo;effect&amp;rdquo;, as it&amp;rsquo;s not really a limit at all. It&amp;rsquo;s an aerodynamics phenomenon that results in suboptimal mass flow/pressure recovery, but it&amp;rsquo;s not an outright cap on the performance of a system, like the term &amp;ldquo;limit&amp;rdquo; would imply.&lt;/p>
&lt;p>To my great surprise, it does seem like everyone has gotten this wrong—&lt;em>no one&lt;/em> I found correctly explained this, and usually just parroted the &amp;ldquo;syringe&amp;rdquo; explanation from the Musk paper, despite the original paper by Kantrowitz being readily available online (and rather short: the meat and bones of it is only about 5 pages).&lt;/p>
&lt;h2 id="overcoming-the-limit" >Overcoming the limit
&lt;span>
&lt;a href="#overcoming-the-limit">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>The Kantrowitz &amp;ldquo;effect&amp;rdquo; is undesirable as the pressure losses across the shock lower the mass flow rate through the duct. The total pressure ratio is also known as the &lt;em>pressure recovery&lt;/em>, with a perfect pressure recovery being a value of 1.&lt;/p>
&lt;p>But as it isn&amp;rsquo;t a hard limit, there are a few workarounds that can be employed to mitigate its effect. The general goal is to make the shock weaker, which will improve the pressure recovery. The most common way to do this is to move the shock wave into the inlet, &lt;em>behind&lt;/em> the throat. In this position, it is stable, and is much weaker than if it were outside and in front of the inlet. This is often referred to as &amp;ldquo;starting&amp;rdquo; the inlet.&lt;/p>
&lt;h3 id="overspeeding" >Overspeeding
&lt;span>
&lt;a href="#overspeeding">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>The simplest solution is to temporarily overspeed the system above the design Mach number.&lt;/p>
&lt;p>As the shock moves through the converging duct, a positive feedback loop will occur: its upstream Mach number will decrease, which means that the shock will &lt;em>weaken&lt;/em>. This results in the throat experiencing an increased mass flow rate, which will reduce the shock backpressure which draws the shock further into the duct. Thus the shock will continue moving until it has passed through the throat.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/stable-shock.png" alt="Stable shock">
&lt;figcaption>In this position, the shock is stable. An increase in backpressure will push the shock back, but as it approaches the throat, it will weaken, improving the pressure recovery and causing a negative feedback loop that prevents it from being dislodged.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>However, the opposite situation is also true. As previously mentioned, if the shock is placed at exactly the throat, and there is a temporary backpressure fluctuation, then that could be enough to knock the shock wave out of the inlet, leading to massive energy losses.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/metastable-shock.png" alt="Metastable shock">
&lt;figcaption>The shock is at its weakest in the throat (technically, at M = 1.0, there is no shock). But the slightest disturbance or fluctuation in backpressure can have it knocked off and spat out of the inlet, causing a very sudden and disruptive drop in pressure.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>This is only a viable option for systems operating at relatively low Mach numbers. Beyond a design value of ~Mach 1.6 the amount of overspeeding needed becomes impractical from an engineering standpoint, and above Mach 1.9 it becomes flat out impossible.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/overspeed.png" alt="Overspeed graph">
&lt;figcaption>The overspeed required to start inlets designed for specific Mach numbers dramatically grows above design Mach numbers of 1.6. The dashed line is y = x, for reference purposes.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h3 id="increasing-the-throat-size" >Increasing the throat size
&lt;span>
&lt;a href="#increasing-the-throat-size">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Kantrowitz and Donaldson propose a simple solution: increasing the throat size so that it chokes at a &lt;em>subsonic&lt;/em> mass flow rate equal to the expected mass flow rate during supersonic operation at the design Mach number. This inlet design is also known as a Kantrowitz-Donaldson inlet, and it is &lt;em>self-starting&lt;/em>, because it will naturally settle at the desirable equilibrium point.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/kantrowitz-donaldson.png" alt="Kantrowitz-Donaldson inlet">
&lt;figcaption>A Kantrowitz-Donaldson inlet has a wider throat which will automatically swallow the shock as soon as supersonic speeds are reached.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>The downside is that the pressure recovery is lower than that of a normally-sized inlet since the inlet isn&amp;rsquo;t designed for the desired mass flow rate. The larger throat means the gas will decelerate less before reaching the shock, resulting in more pressure losses. So the tradeoff is whether you want a self-starting inlet that works at ~85% performance or one that needs to be manually started but works at ~95% performance.&lt;/p>
&lt;h3 id="using-variable-nozzles" >Using variable nozzles
&lt;span>
&lt;a href="#using-variable-nozzles">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>In a similar vein, another solution is to adjust the size of the throat in real time to move the shock past the throat before closing it back up. This approach results in high pressure recovery (and therefore high performance), at the cost of complexity and additional weight.&lt;/p>
&lt;h3 id="oblique-shocks" >Oblique shocks
&lt;span>
&lt;a href="#oblique-shocks">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>The last solution is to use a geometry that will force the airflow to turn, producing a series of oblique shocks instead. These will lead to lower pressure losses than a single normal shock. These changes in angle are called &lt;em>ramps&lt;/em>. This can be done through systems like &lt;a href="https://en.wikipedia.org/wiki/Intake_ramp">intake ramps&lt;/a> or &lt;a href="https://en.wikipedia.org/wiki/Inlet_cone">inlet cones&lt;/a>, which are a common sight on supersonic aircraft. Inlets that have these shocks occur outside of the inlet are called &lt;em>external compression&lt;/em> inlets, while those with shocks that occur inside the intake are called &lt;em>internal compression&lt;/em> inlets.&lt;/p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/oblique_pressure_recovery.png">
&lt;figcaption>
Adding more oblique shocks improves pressure recovery, especially at high Mach numbers, but requires a more complicated inlet design. Source: &lt;a href="https://arc.aiaa.org/doi/abs/10.2514/6.2005-7357">Ran and Mavris (2005)&lt;/a>
&lt;/figcaption>
&lt;p>The design of these intakes is a complex topic with &lt;em>a lot&lt;/em> of literature behind it, and beyond the scope of this post.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/oblique-inlet.png" alt="Oblique inlet design">
&lt;figcaption>An example of a two-ramp inlet design, also taken from Ran and Mavris.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h2 id="what-about-hyperloop" >What about Hyperloop?
&lt;span>
&lt;a href="#what-about-hyperloop">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>A lot of these considerations pertain to the design of aircraft, but let&amp;rsquo;s return to the original subject matter. The Kantrowitz limit doesn&amp;rsquo;t seem to be relevant to Hyperloop systems at all. It necessarily only applies to &lt;em>supersonic&lt;/em> systems. The vast majority of concepts I&amp;rsquo;ve seen still have pods traveling at subsonic velocities, which means you wouldn&amp;rsquo;t have the formation of a shock wave in front of the vehicle.&lt;/p>
&lt;p>This doesn&amp;rsquo;t mean that the flow &lt;em>won&amp;rsquo;t&lt;/em> choke, but the massive loss in stagnation pressure due to the shock is the reason why the choked mass flow rate will be significantly lower than what would otherwise be possible.&lt;/p>
&lt;h3 id="what-will-actually-happen" >What will actually happen?
&lt;span>
&lt;a href="#what-will-actually-happen">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>So far, I&amp;rsquo;ve described the Kantrowitz effect in a scenario with free-flowing air, such as on aircraft: if the air cannot enter the duct, it simply flows around it. With Hyperloop, the situation is a bit different, since it&amp;rsquo;s in a closed tunnel, and there&amp;rsquo;s nowhere for the air to go except behind the the pod.&lt;/p>
&lt;p>Based on the classical theory of gas dynamics, I would expect the following to happen as the Hyperloop capsule zips down the tube and reaches the choking velocity for its contraction ratio:&lt;/p>
&lt;ul>
&lt;li>The flow reaches Mach 1 at the narrowest point between the capsule and the tunnel.&lt;/li>
&lt;li>Static pressure would build up in front of the capsule until the pressure is sufficient for the mass flow rates to equalize.&lt;/li>
&lt;li>Depending on the pod geometry, the flow may briefly accelerate past Mach 1 before hitting a shock wave as it encounters the backpressure from the air behind the capsule.&lt;/li>
&lt;li>The drag will increase due to the increased pressure in front as well as the wave drag from the shock wave.&lt;/li>
&lt;/ul>
&lt;h3 id="is-a-compressor-worth-it" >Is a compressor worth it?
&lt;span>
&lt;a href="#is-a-compressor-worth-it">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>So Hyperloop pods will likely experience an increase in drag as they approach the sonic condition in the bypass duct. But the key question is: how much extra drag?&lt;/p>
&lt;p>This is where Musk&amp;rsquo;s analogy of a syringe effect is, in my opinion, very misleading. The reason why the resistance of squeezing a plugged syringe rises so rapidly is because you are compressing the air to several multiples of its original pressure (presumably atmospheric). But in a tube that&amp;rsquo;s presumably hundreds or thousands of miles long, this effect would be a lot less dramatic. Yes, the pressure in front of the pod increases, but this would have the effect of increasing the mass flow through the bypass (recall the mass flow equation), so the system would eventually reach a steady-state equilibrium, so the force wouldn&amp;rsquo;t increase in an unbounded manner. But where does this steady state lie?&lt;/p>
&lt;p>The answer to this question is very complex and requires the use of simulations to get meaningful answers. My gut feeling, based on drag profiles of transonic aircraft&lt;sup id="fnref:6">&lt;a href="#fn:6" class="footnote-ref" role="doc-noteref">6&lt;/a>&lt;/sup>, is that the increase in drag would significant, but it would be on the order of 3-4x more as opposed a complete showstopper like 100x&lt;sup id="fnref:7">&lt;a href="#fn:7" class="footnote-ref" role="doc-noteref">7&lt;/a>&lt;/sup>. Since the drag of a a Hyperloop pod in near-vacuum conditions is already very low, it&amp;rsquo;s questionable whether adding a compressor or other onboard system to mitigate the effect is worth it at all.&lt;/p>
&lt;p>Obviously, this depends on how big the pod is relative to the tunnel. But I suspect that other practical considerations, such as engineering tolerances and supporting equipment, will place an upper limit on the pod size before the drag from densified air in front becomes the main consideration.&lt;/p>
&lt;h3 id="examples-from-a-study" >Examples from a study
&lt;span>
&lt;a href="#examples-from-a-study">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>One good example would be &lt;a href="https://arc.aiaa.org/doi/abs/10.2514/1.J057103?journalCode=aiaaj">this 2018 paper by Opgenoord and Caplan&lt;/a> on Hyperloop pod aerodynamics, where they did some CFD studies on a pod design. It showcases some of the effects I previously mentioned.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/hyperloop_annotated.png" alt="Hyperloop CFD">
&lt;figcaption>CFD simulation of the MIT hyperloop pod, obtained from the paper linked above. Annotations are mine.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Their conclusion is that the drag coefficient does begin to increase significantly after choked flow is reached, but by a factor of ~3 for the speed range that they studied. They also concluded that adding a compressor would consume more energy than beefing up the propulsion system to deal with the increased drag. The difference is 231 kW to power the compressor vs. 31 kW to overcome drag—nearly an order of magnitude difference!&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/hyperloop_drag_coefficient.png" alt="Hyperloop drag coefficient">
&lt;figcaption>Drag coefficient of the MIT hyperloop pod. The flow chokes at a pod speed of ~M = 0.675.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Despite this, a lot of the concept art for Hyperloops depicts pods with gigantic compressors in the front.
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/hyperloopstationzeleros.png" alt="Hyperloop concept art">
&lt;figcaption>The compressor fans really help the cool factor though, and when it comes to multibillion dollar infrastructure projects, isn&amp;#39;t that what counts?&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h3 id="what-about-supersonic-hyperloop-pods" >What about supersonic Hyperloop pods?
&lt;span>
&lt;a href="#what-about-supersonic-hyperloop-pods">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>It&amp;rsquo;s true that supersonic pods have explicitly &lt;em>not&lt;/em> been left off the table, even if there are no immediate plans for them. And at supersonic speeds, the &lt;em>actual&lt;/em> Kantrowitz effect would indeed apply. A shock would form in front of the vehicle, but unlike in typical scenarios where it would take place, there is nowhere for the air to go, so once again you would see a pressure buildup between the shock and the pod. Depending on the shape of the vehicle and its relative position in the tunnel the shock could take on different shapes as well. But it&amp;rsquo;s still somewhat questionable whether the use of a compressor is worth it, or whether there are other solutions, like the ones previously mentioned, that are simpler and more performant.&lt;/p>
&lt;h3 id="what-does-this-mean-for-hyperloop" >What does this mean for Hyperloop?
&lt;span>
&lt;a href="#what-does-this-mean-for-hyperloop">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Not much. This could be interpreted as a win for Hyperloop systems, as the analysis, &lt;em>prima facie&lt;/em>, suggests that the aerodynamics are not a big problem. But I think the aerodynamics of the pod are a relatively unimportant part of the challenges with Hyperloop, although this facet has received a disproportionate amount of attention from the media (likely due to Musk&amp;rsquo;s unconventional solution of using a compressor, unlike the other aspects of the concept which have been proposed for a long time already).&lt;/p>
&lt;p>But make no mistake, there are many other hurdles—technical, practical, economical and political—that need to be cleared to make Hyperloop a reality. Other people have already covered this to death, so I won&amp;rsquo;t go into more detail here.&lt;/p>
&lt;h2 id="why-did-they-call-it-the-kantrowitz-limit" >Why did they call it the Kantrowitz limit?
&lt;span>
&lt;a href="#why-did-they-call-it-the-kantrowitz-limit">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Everything we&amp;rsquo;ve seen would suggest that what Musk calls the Kantrowitz limit is really just the area-Mach number relation, and to my knowledge there isn&amp;rsquo;t a special name for it. Kantrowitz certainly doesn&amp;rsquo;t think he came up with it, since he just mentions it offhandedly in the appendix of his paper, where he simply calls it the &amp;ldquo;isentropic area-contraction ratio&amp;rdquo;.&lt;/p>
&lt;p>So why did Musk call it the Kantrowitz limit? To be honest, I&amp;rsquo;m not sure&amp;hellip; One could try to argue that the formation of the shock wave behind the choke point is reminiscent of the stable configuration described by Kantrowitz and Donaldson, but it&amp;rsquo;s pretty clear from reading the paper that this isn&amp;rsquo;t really what they were concerned about. And naively applying the Kantrowitz limit equation to subsonic systems will get you into trouble—as this graph shows, it results in an underestimation of the true bypass ratio needed&amp;hellip; but these values are physically meaningless, since you can&amp;rsquo;t have a shock at subsonic velocities!&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/kantrowitz_error.png" alt="Kantrowitz error">
&lt;figcaption>Percentage error from applying the Kantrowitz limit equations at subsonic velocities.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>But with that said, if there is a distinction to make here, it&amp;rsquo;s a mostly pedantic one. From quickly skimming a few of these papers, I don&amp;rsquo;t think any serious engineers or scientists made this mistake. It seems to be a purely nomenclature thing. Here&amp;rsquo;s a graph from the prior CFD paper on the blockage ratio vs. free-stream Mach number, reproduced side-by-side with just the area-Mach number equations. Their results are correct—they just called it something it ain&amp;rsquo;t.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/blockage_to_freestream_comparison.png" alt="Freestream graph comparison">
&lt;figcaption>Left: Plot from Opgenoord and Caplan. Right: Plot of freestream Mach number using area-Mach relations.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>So it seems that before 2013, the Kantrowitz limit was a niche phenomenon that applied to supersonic inlet duct design and was used almost exclusively in that context. After Musk published his white paper, everyone has since erroneously ascribed it to the phenomenon of choked flow and it has since been taken up and popularized &lt;a href="https://youtu.be/DnmPcJ6OiBg?t=76">by&lt;/a> &lt;a href="https://youtu.be/HYrO03vqm4Q?t=448">everyone&lt;/a> &lt;a href="https://youtu.be/I8sOxSa3j3g?t=56">else&lt;/a>&lt;sup id="fnref:8">&lt;a href="#fn:8" class="footnote-ref" role="doc-noteref">8&lt;/a>&lt;/sup>. It&amp;rsquo;s a prime example of &lt;a href="https://xkcd.com/978/">citogenesis&lt;/a>.&lt;/p>
&lt;p>
&lt;img src="https://liem.ca/img/kantrowitz/kantrowitz_youtubers.jpeg" alt="Youtubers">
&lt;/p>
&lt;h3 id="is-there-a-kantrowitz-limit-at-all" >Is there a Kantrowitz limit at all?
&lt;span>
&lt;a href="#is-there-a-kantrowitz-limit-at-all">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Technically, yes. So the title is a little bit of a clickbait. But it has a very specific technical meaning—it refers to the maximum unchoked contraction ratio of a duct that is specifically:&lt;/p>
&lt;ul>
&lt;li>Naively designed&lt;/li>
&lt;li>In a supersonic stream&lt;/li>
&lt;li>Unstarted&lt;/li>
&lt;/ul>
&lt;p>It doesn&amp;rsquo;t seem that these criteria, with perhaps the exception of the first one, apply to Hyperloop. And as we&amp;rsquo;ve seen, it&amp;rsquo;s clear that the issues described by the limit likely aren&amp;rsquo;t issues at all. I am not up-to-date with the latest developments in Hyperloop technology, but other people seem to be reaching the same conclusions: Virgin Hyperloop pods, for example, don&amp;rsquo;t seem to be doing very much to mitigate the drag from choked flow.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/kantrowitz/virgin_hyperloop.jpg" alt="Virgin HyperloopOne">
&lt;figcaption>No compressor?&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>At the very least, it seems that the Wikipedia pages on the &lt;a href="https://en.wikipedia.org/wiki/Kantrowitz_limit">Kantrowitz limit&lt;/a> and &lt;a href="https://en.wikipedia.org/wiki/Hyperloop">Hyperloop&lt;/a>, at the time of writing, have some glaring inaccuracies.&lt;/p>
&lt;p>All this, of course, needs to come with several caveats. I haven&amp;rsquo;t spent that much time looking into current-gen Hyperloop technologies, and I may have missed other people&amp;rsquo;s solutions to the pod aerodynamics. I&amp;rsquo;m also not an expert on compressible gas dynamics, so there&amp;rsquo;s always the possibility that I am mistaken somewhere. If someone has more information than me about this, please &lt;a href="mailto:liem.daq@gmail.com">get in touch&lt;/a>—I&amp;rsquo;d love to know!&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>I actually have no idea where this equation comes from. The paper that Wikipedia cites doesn&amp;rsquo;t have it, and from what I can tell it doesn&amp;rsquo;t match up with any of the classical equations I am familiar with. My suspicion is that it was incorrectly transcribed from a derivation of the Kantrowitz limit, since it lines up qualitatively. Hopefully it isn&amp;rsquo;t used for anything serious&amp;hellip;&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>I&amp;rsquo;m not sure what to even make of their claims. The Kantrowitz limit equation &lt;em>is specifically&lt;/em> for compressible fluids. Why would they think that we&amp;rsquo;ve overlooked the fact that gases become compressible at transonic velocities? And what they do mean by supersonic flow &amp;ldquo;compressing&amp;rdquo; the gas along the tunnel? Supersonic flows cannot, by definition, compress anything except through shock waves. That seems like something that would be important to mention. Where did they get all these numbers for the compression ratios?! And this is just the beginning of a long list of issues with this page.&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>The theory of aerodynamics and compressible gas dynamics is surprisingly young. The theory of supersonic shock waves was only developed in 1908, and theoretical solutions to fundamental problems such as flow fields over supersonic blunt bodies were still actively being researched until the mid 1960s. &lt;a href="https://en.wikipedia.org/wiki/Ludwig_Prandtl">Ludwig Prandtl&lt;/a>, considered to be the father of aerodynamics, died in 1953 and was still actively performing research.&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4" role="doc-endnote">
&lt;p>The flow is usually understood to be due to a difference in pressure, but to be pedantic, it is really a difference in &lt;em>free energy&lt;/em>. Pressure is just potential kinetic energy.&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:5" role="doc-endnote">
&lt;p>This doesn&amp;rsquo;t hold for Mach numbers &amp;gt; 5.0, but in many cases is actually a fairly reasonable assumption for speeds below that and will generally get you within +/- 10% of the actual answer.&amp;#160;&lt;a href="#fnref:5" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:6" role="doc-endnote">
&lt;p>This is not really an apples-to-apples comparison, since aircraft, as previously mentioned, have free-flowing air around them. Transonic aircraft will experience &lt;a href="https://en.wikipedia.org/wiki/Critical_Mach_number">localized shock wave formation&lt;/a> which will result in significantly increased drag, which I ballpark to be within the same order of magnitude as in a Hyperloop pod traveling at its choking velocity.&amp;#160;&lt;a href="#fnref:6" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:7" role="doc-endnote">
&lt;p>There should also be a point where the drag will begin to &lt;em>decrease&lt;/em>, as more of the flow becomes supersonic and the boundary layer experiences less disruption. So it&amp;rsquo;s not like the drag will continue to monotonically increase, either.&amp;#160;&lt;a href="#fnref:7" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:8" role="doc-endnote">
&lt;p>To be clear, I am only commenting on the phenomenon as opposed to implying any kind of moral culpability on the part of Youtubers. I don&amp;rsquo;t think it&amp;rsquo;s reasonable to expect them to do this much digging to get the proper background on a very niche aerodynamics effect.&amp;#160;&lt;a href="#fnref:8" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>About</title><link>https://liem.ca/about/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://liem.ca/about/</guid><description>&lt;p>I am an engineer at &lt;a href="https://www.prometheusfuels.com/">Prometheus Fuels&lt;/a>, where we are developing a novel direct-air-capture-to-fuel process for guilt-free carbon neutral fuels. Previously, I graduated with a degree in chemical engineering from &lt;a href="https://www.mcgill.ca/">McGill University&lt;/a>. I was also an early employee and propulsion engineer for &lt;a href="https://spaceryde.webflow.io/">SpaceRyde&lt;/a>, a (sadly now defunct) small satellite launch startup, but I&amp;rsquo;ve been fortunate enough to have had the opportunity to dabble in a lot of fields.&lt;/p>
&lt;p>Some of my technical interests are space exploration, advanced manufacturing, synthetic biology, and energy policy.&lt;/p>
&lt;h1 id="about-this-website" >About this website
&lt;span>
&lt;a href="#about-this-website">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>This is a place for me to publish my various thoughts (perhaps a more apt description is &amp;ldquo;shout into the void&amp;rdquo;). I have a fairly broad range of topics I am interested in and I don&amp;rsquo;t have any particularly strong criteria on what should be a post other than it being a discussion I feel is worth sharing—for better or for worse. In terms of technical depth, I&amp;rsquo;m aiming for somewhere in between a journal paper and a Vox long-form article, which I think is an underserved niche.&lt;/p>
&lt;p>The site uses &lt;a href="https://gohugo.io/">Hugo&lt;/a>, a static site generator. The design is based on the &lt;a href="https://github.com/mitrichius/hugo-theme-anubis">Anubis&lt;/a> theme, although with &lt;a href="https://github.com/LiemDQ/hugo-theme-anubis">several modifications of my own&lt;/a>.&lt;/p>
&lt;h1 id="contacting-me" >Contacting me
&lt;span>
&lt;a href="#contacting-me">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>I am not very active on social media. The best way to get in touch with me is through &lt;a href="mailto:dq@liem.ca">email&lt;/a>.&lt;/p></description></item><item><title>Projects</title><link>https://liem.ca/projects/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://liem.ca/projects/</guid><description>&lt;p>This is an informal list of some projects I&amp;rsquo;ve worked on. Most of these were done in my spare time.&lt;/p>
&lt;h1 id="tlsf-pmr" >tlsf-pmr
&lt;span>
&lt;a href="#tlsf-pmr">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>&lt;a href="https://github.com/LiemDQ/tlsf-pmr">tlsf-pmr&lt;/a> is a C++17 implementation of the Two-Level Segregated Fit (TLSF) memory allocator by Masmano et al. (2004), but adapted for use with the &lt;code>std::pmr&lt;/code> polymorphic allocator API and with a permissive license (compared to the reference C implementation, which has a GPL license).&lt;/p>
&lt;p>This allows it to be used in any standard library container or algorithm that accepts custom memory allocators, such as &lt;code>std::vector&lt;/code>. TLSF is a pool allocator features an allocation complexity of $O(1)$, as well as low levels of fragmentation, making it appropriate for use cases that require deterministic execution times, such as real-time applications. The original paper can be found &lt;a href="http://www.gii.upv.es/tlsf/files/ecrts04_tlsf.pdf">here&lt;/a>.&lt;/p>
&lt;p>In line with the recommendations of &lt;a href="https://www.youtube.com/watch?v=LIb3L4vKZ7U">this talk&lt;/a> on memory allocator design by Andrei Alexandrescu, it also features the ability to configure custom upstream allocators, which are used when the pool has insufficient memory to support an allocation.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/TLSF.png" alt="TLSF data structures">
&lt;figcaption>An overview of the allocation algorithm. It makes sense if you read the paper. I swear.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h1 id="hustl" >hustl
&lt;span>
&lt;a href="#hustl">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>&lt;a href="https://github.com/LiemDQ/hustl">hustl&lt;/a> is a performant, cross-platform STL file viewer written in Rust. It is written to support complex, high-polygon shapes and supports GPU acceleration using WebGPU and compiles to both native binaries and WebAssembly. It has very fast load times thanks to the use of vertex indexing along with extensive parallelism—it can load a 3 million polygon model (pictured below) in around 270ms on an AMD Ryzen 5 3600X CPU and a GeForce GTX 660. I suppose you could call it &lt;em>blazingly fast&lt;/em> 🚀 👈 😎 👈&lt;/p>
&lt;figure>
&lt;img src="https://liem.ca/img/hustl_ss2.png" width="75%">
&lt;figcaption>Model obtained from Szimuly Casba on &lt;a href="https://grabcad.com/library/wonder-woman-2">GrabCad&lt;/a>.&lt;/figcaption>
&lt;/figure>
&lt;h1 id="rucksacc---wip" >rucksacc - WIP
&lt;span>
&lt;a href="#rucksacc---wip">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>&lt;a href="https://github.com/LiemDQ/rucksacc">rucksacc&lt;/a> is a C compiler that aims to be compliant with C11, written in Rust and using the Cranelift code generation backend. It is fairly fully-featured, supporting the preprocessor as well as code optimizations. However, it should still be considered a &amp;ldquo;toy&amp;rdquo; compiler. In particular, robust error handling is one of the trickiest parts of modern compiler frontends, and Rucksacc&amp;rsquo;s implementation is fairly simplistic.&lt;/p>
&lt;p>Rephrased in technical jargon, rucksacc is a multi-pass compiler frontend that uses a &lt;a href="https://en.wikipedia.org/wiki/Control-flow_graph">control-flow graph&lt;/a> intermediate representation, but defers optimization details like register allocation to Cranelift. The parsing step uses a hand-coded recursive descent parser, but uses &lt;a href="http://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/">Pratt parsing&lt;/a> to evaluate expressions. The &lt;a href="https://en.wikipedia.org/wiki/Lexer_hack">C lexing problem&lt;/a> is solved by deferring identifier classification to the semantic analysis step.&lt;/p>
&lt;!--
# Shine - WIP
[Shine](https://github.com/LiemDQ/shine) is a basic raytracer, written in Rust. It is capable of simulating diffraction, reflection, refraction, focal blur, shadows, and more!
Shine was written from scratch, with only a single 3rd-party dependency (for random number generation). -->
&lt;h1 id="sounding-rockets" >Sounding rockets
&lt;span>
&lt;a href="#sounding-rockets">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>As an undergraduate student, one of my main extracurricular activities was building and flying high-powered &lt;a href="https://en.wikipedia.org/wiki/Sounding_rocket">sounding rockets&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://liem.ca/doc/MRT_Caladan_Technical_Report.pdf">Caladan&lt;/a> was a 30,000 ft solid motor rocket built and flown at &lt;a href="https://spaceportamericacup.com/">Spaceport America Cup (SAC) 2019&lt;/a>, completely built and designed from scratch by students.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/rocket_surgery.jpg" alt="A picture of Caladan">
&lt;figcaption>Burning the midnight oil performing rocket surgery on Caladan&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>&lt;a href="https://liem.ca/doc/MRT_Blanche.pdf">Blanche&lt;/a> was a 10,000 ft solid motor rocket flown at SAC 2018, where it placed 1st in its category and went on to win the Spaceport America Cup.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/blanche_group_photo.jpg" alt="A group picture of Blanche">
&lt;figcaption>Smelly, sleepless students smile sunnily with Blanche in foreground&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>&lt;a href="https://liem.ca/doc/Ariel_PDR.pdf">Ariel&lt;/a> was a proposed 300,000 ft apogee liquid engine rocket that would have been, at the time, the first student-researched-and-designed liquid rocket to breach the Karman line. Due to manpower and schedule restrictions, Ariel was shelved after the preliminary design stage, thereby joining a long, illustrious list of aerospace vehicle concepts that get cancelled before ever seeing the light of day.&lt;/p>
&lt;h1 id="characterization-of-metal-oxide-water-splitting-catalysts" >Characterization of metal oxide water splitting catalysts
&lt;span>
&lt;a href="#characterization-of-metal-oxide-water-splitting-catalysts">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h1>&lt;p>In undergrad, I worked in a &lt;a href="http://electrochem.mcgill.ca/electrochem.mcgill.ca/index.html">research lab&lt;/a> where we produced and characterized cathodes for the hydrogen evolution reaction, a.k.a. water splitting for green hydrogen production. Our motivation was to determine to what extent adding iridium to nickel-molybdenum oxides would improve their electrocatalytic performance. Iridium is a very good water splitting catalyst, but is very expensive; molydenum and nickel are much cheaper but are less effective.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="https://liem.ca/img/tafel.png" alt="Tafel polarization curves">
&lt;figcaption>Tafel polarization curves for some of the samples we tested.&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>Additionally, nickel electrodes are prone to degradation in acidic media (found in, e.g., &lt;a href="https://en.wikipedia.org/wiki/Proton-exchange_membrane_fuel_cell">PEM fuel cells&lt;/a>); using &lt;em>oxides&lt;/em> makes them more resistant to degradation, but with the tradeoff of reduced performance.&lt;/p>
&lt;p>The result of our work was published in &lt;em>Electrochimica Acta&lt;/em>. A copy of the paper can be found &lt;a href="https://liem.ca/doc/vidales2019.pdf">here&lt;/a>.&lt;/p></description></item></channel></rss>